/*!dep/jQuery.dotdotdot/src/jquery.dotdotdot.js*/
;define("dep/jQuery.dotdotdot/src/jquery.dotdotdot",["require","exports","module"],function(){!function(a,c){function h(a,o,c){var h=a.children(),g=!1;a.empty();for(var v=0,l=h.length;l>v;v++){var y=h.eq(v);if(a.append(y),c&&a.append(c),w(a,o)){y.remove(),g=!0;break}c&&c.detach()}return g}function g(c,h,y,o,b){var C=!1,T="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",k="script, .dotdotdot-keep";return c.contents().detach().each(function(){var e=this,j=a(e);if("undefined"==typeof e)return!0;if(j.is(k))c.append(j);else{if(C)return!0;c.append(j),!b||j.is(o.after)||j.find(o.after).length||c[c.is(T)?"after":"append"](b),w(y,o)&&(C=3==e.nodeType?v(j,h,y,o,b):g(j,h,y,o,b)),C||b&&b.detach()}}),h.addClass("is-truncated"),C}function v(c,h,g,o,v){var e=c[0];if(!e)return!1;var b=T(e),k=-1!==b.indexOf(" ")?" ":"　",E="letter"==o.wrap?"":k,H=b.split(E),I=-1,A=-1,z=0,F=H.length-1;for(o.fallbackToLetter&&0==z&&0==F&&(E="",H=b.split(E),F=H.length-1);F>=z&&(0!=z||0!=F);){var m=Math.floor((z+F)/2);if(m==A)break;A=m,C(e,H.slice(0,A+1).join(E)+o.ellipsis),g.children().each(function(){a(this).toggle().toggle()}),w(g,o)?(F=A,o.fallbackToLetter&&0==z&&0==F&&(E="",H=H[0].split(E),I=-1,A=-1,z=0,F=H.length-1)):(I=A,z=A)}if(-1==I||1==H.length&&0==H[0].length){var Q=c.parent();c.detach();var D=v&&v.closest(Q).length?v.length:0;Q.contents().length>D?e=j(Q.contents().eq(-1-D),h):(e=j(Q,h,!0),D||Q.detach()),e&&(b=y(T(e),o),C(e,b),D&&v&&a(e).parent().append(v))}else b=y(H.slice(0,I+1).join(E),o),C(e,b);return!0}function w(a,o){return a.innerHeight()>o.maxHeight}function y(c,o){for(;a.inArray(c.slice(-1),o.lastCharacter.remove)>-1;)c=c.slice(0,-1);return a.inArray(c.slice(-1),o.lastCharacter.noEllipsis)<0&&(c+=o.ellipsis),c}function b(a){return{width:a.innerWidth(),height:a.innerHeight()}}function C(e,a){e.innerText?e.innerText=a:e.nodeValue?e.nodeValue=a:e.textContent&&(e.textContent=a)}function T(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function k(n){do n=n.previousSibling;while(n&&1!==n.nodeType&&3!==n.nodeType);return n}function j(c,h,g){var p,e=c&&c[0];if(e){if(!g){if(3===e.nodeType)return e;if(a.trim(c.text()))return j(c.contents().last(),h)}for(p=k(e);!p;){if(c=c.parent(),c.is(h)||!c.length)return!1;p=k(c[0])}if(p)return j(a(p),h)}return!1}function E(e,c){return e?"string"==typeof e?(e=a(e,c),e.length?e:!1):e.jquery?e:!1:!1}function H(a){for(var c=a.innerHeight(),h=["paddingTop","paddingBottom"],g=0,l=h.length;l>g;g++){var m=parseInt(a.css(h[g]),10);isNaN(m)&&(m=0),c-=m}return c}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(o){if(0==this.length)return a.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(o)});var c=this,v=c.contents();c.data("dotdotdot")&&c.trigger("destroy.dot"),c.data("dotdotdot-style",c.attr("style")||""),c.css("word-wrap","break-word"),"nowrap"===c.css("white-space")&&c.css("white-space","normal"),c.bind_events=function(){return c.bind("update.dot",function(e,b){switch(c.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof y.height){case"number":y.maxHeight=y.height;break;case"function":y.maxHeight=y.height.call(c[0]);break;default:y.maxHeight=H(c)}y.maxHeight+=y.tolerance,"undefined"!=typeof b&&(("string"==typeof b||"nodeType"in b&&1===b.nodeType)&&(b=a("<div />").append(b).contents()),b instanceof a&&(v=b)),j=c.wrapInner('<div class="dotdotdot" />').children(),j.contents().detach().end().append(v.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var T=!1,k=!1;return C.afterElement&&(T=C.afterElement.clone(!0),T.show(),C.afterElement.detach()),w(j,y)&&(k="children"==y.wrap?h(j,y,T):g(j,c,j,y,T)),j.replaceWith(j.contents()),j=null,a.isFunction(y.callback)&&y.callback.call(c[0],k,v),C.isTruncated=k,k}).bind("isTruncated.dot",function(e,a){return e.preventDefault(),e.stopPropagation(),"function"==typeof a&&a.call(c[0],C.isTruncated),C.isTruncated}).bind("originalContent.dot",function(e,a){return e.preventDefault(),e.stopPropagation(),"function"==typeof a&&a.call(c[0],v),v}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),c.unwatch().unbind_events().contents().detach().end().append(v).attr("style",c.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),c},c.unbind_events=function(){return c.unbind(".dot"),c},c.watch=function(){if(c.unwatch(),"window"==y.watch){var h=a(window),g=h.width(),v=h.height();h.bind("resize.dot"+C.dotId,function(){g==h.width()&&v==h.height()&&y.windowResizeFix||(g=h.width(),v=h.height(),k&&clearInterval(k),k=setTimeout(function(){c.trigger("update.dot")},100))})}else T=b(c),k=setInterval(function(){if(c.is(":visible")){var a=b(c);(T.width!=a.width||T.height!=a.height)&&(c.trigger("update.dot"),T=a)}},500);return c},c.unwatch=function(){return a(window).unbind("resize.dot"+C.dotId),k&&clearInterval(k),c};var y=a.extend(!0,{},a.fn.dotdotdot.defaults,o),C={},T={},k=null,j=null;return y.lastCharacter.remove instanceof Array||(y.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),y.lastCharacter.noEllipsis instanceof Array||(y.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),C.afterElement=E(y.after,c),C.isTruncated=!1,C.dotId=I++,c.data("dotdotdot",!0).bind_events().trigger("update.dot"),y.watch&&c.watch(),c},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},a.fn.dotdotdot.debug=function(){};var I=1,A=a.fn.html;a.fn.html=function(h){return h!=c&&!a.isFunction(h)&&this.data("dotdotdot")?this.trigger("update",[h]):A.apply(this,arguments)};var z=a.fn.text;a.fn.text=function(h){return h!=c&&!a.isFunction(h)&&this.data("dotdotdot")?(h=a("<div />").text(h).html(),this.trigger("update",[h])):z.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(a){a(".dot-ellipsis").each(function(){var c=a(this).hasClass("dot-resize-update"),h=a(this).hasClass("dot-timer-update"),g=0,v=a(this).attr("class").split(/\s+/);a.each(v,function(a,c){c.match("/^dot-height-d+$/")||(g=Number(c.substr(c.indexOf("-",-1)+1)))});var x=new Object;h&&(x.watch=!0),c&&(x.watch="window"),g>0&&(x.height=g),a(this).dotdotdot(x)})}),jQuery(window).load(function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")})});
/*!community/modules/common/related-question-side/main.js*/
;define("community/modules/common/related-question-side/main",["require","exports","module","dep/jQuery.dotdotdot/src/jquery.dotdotdot"],function(require){$(".related-questions-sidebar").size()<1||(require("dep/jQuery.dotdotdot/src/jquery.dotdotdot"),$("#relatedQuestionsSidebar .question-item .title").dotdotdot())});
/*!community/modules/common/main.js*/
;define("community/modules/common/main",["require","exports","module","common/widgets/passport/passport","dep/jquery-colorbox/jquery.colorbox"],function(require,exports){function a(a){var c=/^(https?):\/\/((?:[\u4E00-\u9FA5a-z0-9.-]|%[0-9A-F]{2}){2,})(?::(\d+))?((?:\/(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})*)*)(?:\?((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?(?:#((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?$/i,A=top.location,w={protocol:A.protocol.substring(0,A.protocol.length-1),hostname:A.hostname,port:A.port||"80"},L=c.exec(a);if(L&&L.length){var O={protocol:L[1],hostname:L[2],port:L[3]||"80"};return w.protocol!=O.protocol||w.hostname!=O.hostname||w.port!=O.port?!0:!1}return!1}require("common/widgets/passport/passport"),require("dep/jquery-colorbox/jquery.colorbox");var c={url:{getRecommendedTopic:GLOBAL_DOMAIN.zctx+"/topic/topicRecommondList.json",getRecommendedQuestion:GLOBAL_DOMAIN.zctx+"/question/questionRecommondList.json",followTopic:GLOBAL_DOMAIN.zctx+"/attention/attentionTopic.json",cancelFollwTopic:GLOBAL_DOMAIN.zctx+"/attention/cancelAttentionTopic.json",followQuestion:GLOBAL_DOMAIN.zctx+"/attention/attentionQuestion.json",cancelFollowQuestion:GLOBAL_DOMAIN.zctx+"/attention/cancelAttentionQuestion.json",supportAnswer:GLOBAL_DOMAIN.zctx+"/star/starAnswer.json",cancelSupportAnswer:GLOBAL_DOMAIN.zctx+"/star/cancelStarAnswer.json",uploadAndcutPic:GLOBAL_DOMAIN.zctx+"/user/uploadAndcutPic.json",validateUserName:GLOBAL_DOMAIN.zctx+"/user/validateUserName.json",saveUserinfo:GLOBAL_DOMAIN.zctx+"/user/saveInfo.json",uploadAnswerPic:GLOBAL_DOMAIN.zctx+"/answer/uploadAnswerPic.json",saveAnswer:GLOBAL_DOMAIN.zctx+"/answer/saveAnswer.json",editAnswer:GLOBAL_DOMAIN.zctx+"/answer/editAnswer.json",getAskToList:GLOBAL_DOMAIN.zctx+"/question/getAskToList.json",searchTopic:GLOBAL_DOMAIN.zctx+"/topic/searchTopic.json",saveTopic:GLOBAL_DOMAIN.zctx+"/topic/saveTopic.json",addQuestion:GLOBAL_DOMAIN.zctx+"/question/addQuestion.json",followUser:GLOBAL_DOMAIN.zctx+"/attention/followUser.json",cancelFollowUser:GLOBAL_DOMAIN.zctx+"/attention/cancelfollowUser.json",getStarRank:GLOBAL_DOMAIN.zctx+"/star/queryGainStarRanking.json",getStarUserList:GLOBAL_DOMAIN.zctx+"/star/starUserList.json",searchQuestion:GLOBAL_DOMAIN.zctx+"/question/searchQuestionJson.json"},indexURL:{getMoreNews:GLOBAL_DOMAIN.zctx+"/indexMoreNewsList.json",getRecommendedTopic:GLOBAL_DOMAIN.zctx+"/topic/topicRecommondList.json"},topicListURL:{getMoreTopics:GLOBAL_DOMAIN.zctx+"/topic/getTopicList.json"},topicDetailURL:{getMoreTopicNews:GLOBAL_DOMAIN.zctx+"/topic/moreTopicNewsList.json"},publisherUrl:{validate:GLOBAL_DOMAIN.zctx+"/user/validateUserName.json"},selectTopicUrl:{changeTopicList:GLOBAL_DOMAIN.zctx+"/user/changeTopicList.json",saveAttentionTopicList:GLOBAL_DOMAIN.zctx+"/user/saveAttentionTopicList.json"},questionPageUrl:{getAnswerList:GLOBAL_DOMAIN.zctx+"/question/getAnswerList.json",inviteAnswer:GLOBAL_DOMAIN.zctx+"/invitation/sendInvite.json",saveAnswerDraft:GLOBAL_DOMAIN.zctx+"/answer/saveAnswerDraft.json"},answerPageUrl:{getCommentList:GLOBAL_DOMAIN.zctx+"/comment/getComment.json",addComment:GLOBAL_DOMAIN.zctx+"/comment/addComment.json",replyComment:GLOBAL_DOMAIN.zctx+"/comment/replyComment.json",deleteComment:GLOBAL_DOMAIN.zctx+"/comment/deleteComment.json",deleteAnswer:GLOBAL_DOMAIN.zctx+"/answer/delAnswer.json"},personalPageUrl:{moreUserNewsList:GLOBAL_DOMAIN.zctx+"/user/moreUserNewsList.json",getFollowersList:GLOBAL_DOMAIN.zctx+"/attention/getFollowersList.json",getFollowingList:GLOBAL_DOMAIN.zctx+"/attention/getFolloweesList.json"}};exports.config=c;var A={ajax:function(c){if(c.url){var A;return A=a(c.url)?{url:c.url,dataType:"jsonp",jsonp:"jsoncallback",data:c.data||{}}:{url:c.url,type:c.type||"GET",dataType:"json",data:c.data||{}},$.ajax(A)}},supportAnswer:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.supportAnswer,data:{answerId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，点赞失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你点赞的答案已经不存在了！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经点过赞了"),w&&w.fail&&w.fail()):205==a.state?(A.alertTips("你不需要给自己的答案点赞"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("supportAnswer error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},cancelSupportAnswer:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.cancelSupportAnswer,data:{answerId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，点赞取消失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你取消点赞的答案已经不存在了！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经取消点赞了"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("cancelSupportAnswer error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},followTopic:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.followTopic,data:{topicId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，关注失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你关注的话题已经不存在了！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经关注过该话题"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("followTopic error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},cancelFollwTopic:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.cancelFollwTopic,data:{topicId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，取消关注话题失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你取消关注的话题已经不存在了！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经取消关注过该话题"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("cancelFollwTopic error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},followQuestion:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.followQuestion,data:{questionId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，关注失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你关注的问题已经不存在了！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经关注过该问题"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("followQuestion error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},cancelFollwQuestion:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.cancelFollowQuestion,data:{questionId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，取消关注问题失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你取消关注的问题已经不存在了！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经取消关注过该问题"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("cancelFollwQuestion error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},followUser:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.followUser,data:{targetUserId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，关注失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你关注的用户不存在！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经关注过该用户"),w&&w.fail&&w.fail()):205==a.state?(A.alertTips("你不能关注自己"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("followUser error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},cancelFollowUser:function(a,w){return A.checkUserStatus({checkAuthority:!1})?void A.ajax({url:c.url.cancelFollowUser,data:{targetUserId:a}}).done(function(a){1==a.state?w&&w.done&&w.done(a):304==a.state?(PASSPORT.popup(),w&&w.fail&&w.fail()):201==a.state?(A.alertTips("参数错误"),w&&w.fail&&w.fail()):202==a.state?(A.alertTips("不好意思，服务器开了个小差，取消关注失败！"),w&&w.fail&&w.fail()):203==a.state?(A.alertTips("你取消关注的用户不存在！"),w&&w.fail&&w.fail()):204==a.state?(A.alertTips("你已经取消关注过该用户"),w&&w.fail&&w.fail()):1e4==a.state?(A.alertTips("没有权限"),w&&w.fail&&w.fail()):(console.log(a.message),w&&w.fail&&w.fail())}).fail(function(){console.log("cancelFollowUser error"),w&&w.fail&&w.fail()}).always(function(){w&&w.always&&w.always()}):(w&&w.fail&&w.fail(),void(w&&w.always&&w.always()))},addAnswer:function(a){return"[object Object]"===Object.prototype.toString.call(a)?$.ajax({url:c.url.saveAnswer,type:"POST",data:a,dataType:"json"}).done(function(a){1===parseInt(a.state,10)?window.location.reload():304===parseInt(a.state,10)?PASSPORT.popup():A.alertTips(208===parseInt(a.state,10)?"该问题已被管理员关闭！":209===parseInt(a.state,10)?"你已回答该问题！":210===parseInt(a.state,10)?"你最多只能填写10万字的回答！":1e4===parseInt(a.state,10)?'在社区内测期间，你还未获得发布内容的权限<br />但这不代表拉勾不爱你，<a href="../../form.mikecrm.com/a1GjwD" target="_blank">获得资格</a>':"不好意思，服务器开了个小差，回答问题失败！")}).fail(function(){A.alertTips("不好意思，服务器开了个小差，回答问题失败！")}):void 0},editAnswer:function(a){return"[object Object]"===Object.prototype.toString.call(a)?$.ajax({url:c.url.editAnswer,type:"POST",data:a,dataType:"json"}).done(function(a){1===parseInt(a.state,10)?window.location.reload():304===parseInt(a.state,10)?PASSPORT.popup():A.alertTips(210===parseInt(a.state,10)?"你最多只能填写10万字的回答！":1e4===parseInt(a.state,10)?"你无权执行该操作！":"不好意思，服务器开了个小差，编辑答案失败！")}).fail(function(){A.alertTips("不好意思，服务器开了个小差，编辑答案失败！")}):void 0},alertTips:function(a,c){$.colorbox({title:"提示",html:'<div class="tipsContent"><p>'+a+"</p></div>",overlayClose:!0,onClosed:function(){c&&c()}})},checkUserStatus:function(a){return a=a||{},a.checkLogin="boolean"==typeof a.checkLogin?a.checkLogin:!0,a.checkActive="boolean"==typeof a.checkActive?a.checkActive:!0,a.checkCompleteInfo="boolean"==typeof a.checkCompleteInfo?a.checkCompleteInfo:!0,a.checkAuthority="boolean"==typeof a.checkAuthority?a.checkAuthority:!0,a.checkLogin&&!global.curUserid?(PASSPORT.popup(),!1):a.checkActive&&!global.curUserIsActive?(document.location.href=GLOBAL_DOMAIN.actx+"/account/registerActive.html?callback="+encodeURIComponent(document.location.href),!1):a.checkCompleteInfo&&!global.curUserIsCompleteInfo?(document.location.href=GLOBAL_DOMAIN.zctx+"/",!1):a.checkAuthority&&!global.curUserIsAuthority?(A.alertTips('在社区内测期间，你还未获得发布内容的权限<br />但这不代表拉勾不爱你，<a href="../../form.mikecrm.com/a1GjwD" target="_blank">获得资格</a>'),!1):!0}};exports.helper=A});
/*!community/modules/common/user-card-float/main.js*/
;define("community/modules/common/user-card-float/main",["require","exports","module","community/modules/common/main","dep/artTemplate/dist/template"],function(require){var a=(require("community/modules/common/main").config,require("community/modules/common/main").helper),c=(require("dep/artTemplate/dist/template"),'<div class="loading2">Loading...</div>');$("body").on("click",".user_card_float .user_follow_btn",function(){var _=$(this);if(!_.data("isLoading")){var b=_.attr("data-user-id"),h=_.html();_.html(c),_.data("isLoading",!0),_.hasClass("btn_cancel")?a.cancelFollowUser(b,{done:function(){_.removeClass("btn_cancel").html("<i>加</i>关注"),$(".user_card_float .user_follow_btn[data-user-id="+b+"]").removeClass("btn_cancel").html("<i>加</i>关注")},fail:function(){_.html(h)},always:function(){_.removeData("isLoading")}}):a.followUser(b,{done:function(){_.addClass("btn_cancel").html("已关注"),$(".user_card_float .user_follow_btn[data-user-id="+b+"]").addClass("btn_cancel").html("已关注")},fail:function(){_.html(h)},always:function(){_.removeData("isLoading")}})}}),$("body").on("mouseenter",".user_card_float .user_follow_btn.btn_cancel",function(){$(this).html("取消")}),$("body").on("mouseleave",".user_card_float .user_follow_btn.btn_cancel",function(){$(this).html("已关注")})});
/*!dep/jquery-qrcode/jquery.qrcode.min.js*/
;define("dep/jquery-qrcode/jquery.qrcode.min",["require","exports","module"],function(){!function(r){r.fn.qrcode=function(a){function u(a){this.mode=s,this.data=a}function o(a,h){this.typeNumber=a,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function q(a,h){if(void 0==a.length)throw Error(a.length+"/"+h);for(var d=0;d<a.length&&0==a[d];)d++;this.num=Array(a.length-d+h);for(var g=0;g<a.length-d;g++)this.num[g]=a[g+d]}function p(a,h){this.totalCount=a,this.dataCount=h}function t(){this.buffer=[],this.length=0}var s;u.prototype={getLength:function(){return this.data.length},write:function(a){for(var h=0;h<this.data.length;h++)a.put(this.data.charCodeAt(h),8)}},o.prototype={addData:function(a){this.dataList.push(new u(a)),this.dataCache=null},isDark:function(a,h){if(0>a||this.moduleCount<=a||0>h||this.moduleCount<=h)throw Error(a+","+h);return this.modules[a][h]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var g=p.getRSBlocks(a,this.errorCorrectLevel),d=new t,c=0,e=0;e<g.length;e++)c+=g[e].dataCount;for(e=0;e<this.dataList.length;e++)g=this.dataList[e],d.put(g.mode,4),d.put(g.getLength(),h.getLengthInBits(g.mode,a)),g.write(d);if(d.getLengthInBits()<=8*c)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,h){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++)this.modules[d][g]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,h),7<=this.typeNumber&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},setupPositionProbePattern:function(a,h){for(var d=-1;7>=d;d++)if(!(-1>=a+d||this.moduleCount<=a+d))for(var g=-1;7>=g;g++)-1>=h+g||this.moduleCount<=h+g||(this.modules[a+d][h+g]=d>=0&&6>=d&&(0==g||6==g)||g>=0&&6>=g&&(0==d||6==d)||d>=2&&4>=d&&g>=2&&4>=g?!0:!1)},getBestMaskPattern:function(){for(var a=0,g=0,d=0;8>d;d++){this.makeImpl(!0,d);var c=h.getLostPoint(this);(0==d||a>c)&&(a=c,g=d)}return g},createMovieClip:function(a,h,d){for(a=a.createEmptyMovieClip(h,d),this.make(),h=0;h<this.modules.length;h++)for(var d=1*h,g=0;g<this.modules[h].length;g++){var e=1*g;this.modules[h][g]&&(a.beginFill(0,100),a.moveTo(e,d),a.lineTo(e+1,d),a.lineTo(e+1,d+1),a.lineTo(e,d+1),a.endFill())}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=h.getPatternPosition(this.typeNumber),g=0;g<a.length;g++)for(var d=0;d<a.length;d++){var c=a[g],e=a[d];if(null==this.modules[c][e])for(var f=-2;2>=f;f++)for(var i=-2;2>=i;i++)this.modules[c+f][e+i]=-2==f||2==f||-2==i||2==i||0==f&&0==i?!0:!1}},setupTypeNumber:function(a){for(var g=h.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var c=!a&&1==(g>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=c}for(d=0;18>d;d++)c=!a&&1==(g>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=c},setupTypeInfo:function(a,g){for(var d=h.getBCHTypeInfo(this.errorCorrectLevel<<3|g),c=0;15>c;c++){var e=!a&&1==(d>>c&1);6>c?this.modules[c][8]=e:8>c?this.modules[c+1][8]=e:this.modules[this.moduleCount-15+c][8]=e}for(c=0;15>c;c++)e=!a&&1==(d>>c&1),8>c?this.modules[8][this.moduleCount-c-1]=e:9>c?this.modules[8][15-c-1+1]=e:this.modules[8][15-c-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,g){for(var d=-1,c=this.moduleCount-1,e=7,f=0,i=this.moduleCount-1;i>0;i-=2)for(6==i&&i--;;){for(var C=0;2>C;C++)if(null==this.modules[c][i-C]){var n=!1;f<a.length&&(n=1==(a[f]>>>e&1)),h.getMask(g,c,i-C)&&(n=!n),this.modules[c][i-C]=n,e--,-1==e&&(f++,e=7)}if(c+=d,0>c||this.moduleCount<=c){c-=d,d=-d;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(a,g,d){for(var g=p.getRSBlocks(a,g),c=new t,e=0;e<d.length;e++){var f=d[e];c.put(f.mode,4),c.put(f.getLength(),h.getLengthInBits(f.mode,a)),f.write(c)}for(e=a=0;e<g.length;e++)a+=g[e].dataCount;if(c.getLengthInBits()>8*a)throw Error("code length overflow. ("+c.getLengthInBits()+">"+8*a+")");for(c.getLengthInBits()+4<=8*a&&c.put(0,4);0!=c.getLengthInBits()%8;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*a)&&(c.put(o.PAD0,8),!(c.getLengthInBits()>=8*a));)c.put(o.PAD1,8);return o.createBytes(c,g)},o.createBytes=function(a,g){for(var d=0,c=0,e=0,f=Array(g.length),i=Array(g.length),C=0;C<g.length;C++){var n=g[C].dataCount,v=g[C].totalCount-n,c=Math.max(c,n),e=Math.max(e,v);f[C]=Array(n);for(var L=0;L<f[C].length;L++)f[C][L]=255&a.buffer[L+d];for(d+=n,L=h.getErrorCorrectPolynomial(v),n=new q(f[C],L.getLength()-1).mod(L),i[C]=Array(L.getLength()-1),L=0;L<i[C].length;L++)v=L+n.getLength()-i[C].length,i[C][L]=v>=0?n.get(v):0}for(L=C=0;L<g.length;L++)C+=g[L].totalCount;for(d=Array(C),L=n=0;c>L;L++)for(C=0;C<g.length;C++)L<f[C].length&&(d[n++]=f[C][L]);for(L=0;e>L;L++)for(C=0;C<g.length;C++)L<i[C].length&&(d[n++]=i[C][L]);return d},s=4;for(var h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var g=a<<10;0<=h.getBCHDigit(g)-h.getBCHDigit(h.G15);)g^=h.G15<<h.getBCHDigit(g)-h.getBCHDigit(h.G15);return(a<<10|g)^h.G15_MASK},getBCHTypeNumber:function(a){for(var g=a<<12;0<=h.getBCHDigit(g)-h.getBCHDigit(h.G18);)g^=h.G18<<h.getBCHDigit(g)-h.getBCHDigit(h.G18);return a<<12|g},getBCHDigit:function(a){for(var h=0;0!=a;)h++,a>>>=1;return h},getPatternPosition:function(a){return h.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,h,d){switch(a){case 0:return 0==(h+d)%2;case 1:return 0==h%2;case 2:return 0==d%3;case 3:return 0==(h+d)%3;case 4:return 0==(Math.floor(h/2)+Math.floor(d/3))%2;case 5:return 0==h*d%2+h*d%3;case 6:return 0==(h*d%2+h*d%3)%2;case 7:return 0==(h*d%3+(h+d)%2)%2;default:throw Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var h=new q([1],0),d=0;a>d;d++)h=h.multiply(new q([1,l.gexp(d)],0));return h},getLengthInBits:function(a,h){if(h>=1&&10>h)switch(a){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error("mode:"+a)}else if(27>h)switch(a){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error("mode:"+a)}else{if(!(41>h))throw Error("type:"+h);switch(a){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error("mode:"+a)}}},getLostPoint:function(a){for(var h=a.getModuleCount(),d=0,g=0;h>g;g++)for(var e=0;h>e;e++){for(var f=0,i=a.isDark(g,e),c=-1;1>=c;c++)if(!(0>g+c||g+c>=h))for(var C=-1;1>=C;C++)0>e+C||e+C>=h||0==c&&0==C||i==a.isDark(g+c,e+C)&&f++;f>5&&(d+=3+f-5)}for(g=0;h-1>g;g++)for(e=0;h-1>e;e++)f=0,a.isDark(g,e)&&f++,a.isDark(g+1,e)&&f++,a.isDark(g,e+1)&&f++,a.isDark(g+1,e+1)&&f++,(0==f||4==f)&&(d+=3);for(g=0;h>g;g++)for(e=0;h-6>e;e++)a.isDark(g,e)&&!a.isDark(g,e+1)&&a.isDark(g,e+2)&&a.isDark(g,e+3)&&a.isDark(g,e+4)&&!a.isDark(g,e+5)&&a.isDark(g,e+6)&&(d+=40);for(e=0;h>e;e++)for(g=0;h-6>g;g++)a.isDark(g,e)&&!a.isDark(g+1,e)&&a.isDark(g+2,e)&&a.isDark(g+3,e)&&a.isDark(g+4,e)&&!a.isDark(g+5,e)&&a.isDark(g+6,e)&&(d+=40);for(e=f=0;h>e;e++)for(g=0;h>g;g++)a.isDark(g,e)&&f++;return a=Math.abs(100*f/h/h-50)/5,d+10*a}},l={glog:function(a){if(1>a)throw Error("glog("+a+")");return l.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},m=0;8>m;m++)l.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)l.EXP_TABLE[m]=l.EXP_TABLE[m-4]^l.EXP_TABLE[m-5]^l.EXP_TABLE[m-6]^l.EXP_TABLE[m-8];for(m=0;255>m;m++)l.LOG_TABLE[l.EXP_TABLE[m]]=m;return q.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var h=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var g=0;g<a.getLength();g++)h[d+g]^=l.gexp(l.glog(this.get(d))+l.glog(a.get(g)));return new q(h,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var h=l.glog(this.get(0))-l.glog(a.get(0)),d=Array(this.getLength()),g=0;g<this.getLength();g++)d[g]=this.get(g);for(g=0;g<a.getLength();g++)d[g]^=l.gexp(l.glog(a.get(g))+h);return new q(d,0).mod(a)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(a,h){var d=p.getRsBlockTable(a,h);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+h);for(var g=d.length/3,e=[],f=0;g>f;f++)for(var c=d[3*f+0],C=d[3*f+1],v=d[3*f+2],l=0;c>l;l++)e.push(new p(C,v));return e},p.getRsBlockTable=function(a,h){switch(h){case 1:return p.RS_BLOCK_TABLE[4*(a-1)+0];case 0:return p.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return p.RS_BLOCK_TABLE[4*(a-1)+2];case 2:return p.RS_BLOCK_TABLE[4*(a-1)+3]}},t.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,h){for(var d=0;h>d;d++)this.putBit(1==(a>>>h-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),a&&(this.buffer[h]|=128>>>this.length%8),this.length++}},"string"==typeof a&&(a={text:a}),a=r.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},a),this.each(function(){var h;if("canvas"==a.render){h=new o(a.typeNumber,a.correctLevel),h.addData(a.text),h.make();var g=document.createElement("canvas");g.width=a.width,g.height=a.height;for(var d=g.getContext("2d"),c=a.width/h.getModuleCount(),e=a.height/h.getModuleCount(),f=0;f<h.getModuleCount();f++)for(var i=0;i<h.getModuleCount();i++){d.fillStyle=h.isDark(f,i)?a.foreground:a.background;var C=Math.ceil((i+1)*c)-Math.floor(i*c),v=Math.ceil((f+1)*c)-Math.floor(f*c);d.fillRect(Math.round(i*c),Math.round(f*e),C,v)}}else for(h=new o(a.typeNumber,a.correctLevel),h.addData(a.text),h.make(),g=r("<table></table>").css("width",a.width+"px").css("height",a.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",a.background),d=a.width/h.getModuleCount(),c=a.height/h.getModuleCount(),e=0;e<h.getModuleCount();e++)for(f=r("<tr></tr>").css("height",c+"px").appendTo(g),i=0;i<h.getModuleCount();i++)r("<td></td>").css("width",d+"px").css("background-color",h.isDark(e,i)?a.foreground:a.background).appendTo(f);h=g,jQuery(h).appendTo(this)})}}(jQuery)});
/*!community/modules/common/share/main.js*/
;define("community/modules/common/share/main",["require","exports","module","dep/jquery-qrcode/jquery.qrcode.min","community/modules/common/main","dep/artTemplate/dist/template"],function(require){function a(a){if(a){var c=$('<a href="'+a+'"></a>').prop("href"),h={width:120,height:120,text:c},v="8.0",_=navigator.userAgent.toLowerCase(),b=_.indexOf("msie")>-1;if(b){var y=_.match(/msie ([\d.]+)/)[1];v>=y&&(h.render="table")}$("#sharePopupBox .qrcode_box").empty(),$("#sharePopupBox .qrcode_box").qrcode(h)}}require("dep/jquery-qrcode/jquery.qrcode.min");require("community/modules/common/main").config,require("community/modules/common/main").helper,require("dep/artTemplate/dist/template");$("body").on("click",".share_popup_btn",function(e){if($(".share_popup_box").size()<1){var c=['	<div class="share_popup_box animated" id="sharePopupBox">','		<div class="popup_box_wrap">','			<div class="wechat_box">','				<div class="qrcode_box"></div>','				<p class="tips"> <i>微信</i>',"					扫一扫分享到微信","				</p>","			</div>",'			<span class="deck_out"></span>','			<span class="deck_in"></span>',"		</div>","	</div>"].join("");$("body").append(c),$("#sharePopupBox").click(function(e){e.stopPropagation()})}$("#sharePopupBox").css({top:$(this).offset().top+$(this).innerHeight()+12,left:$(this).offset().left-$("#sharePopupBox").innerWidth()/2-3+$(this).innerWidth()/2}),a($(this).attr("data-share-url")),$("#sharePopupBox:visible").size()>0?$("#sharePopupBox").hide(0).show(0).removeClass("fadeOutDown").addClass("fadeInUp"):$("#sharePopupBox").show(0).removeClass("fadeOutDown").addClass("fadeInUp"),e.stopPropagation()}),$("body").click(function(){$("#sharePopupBox").removeClass("fadeInUp").addClass("fadeOutDown").delay(500).hide(0)})});
/*!community/modules/common/support-list-popup/main.js*/
;define("community/modules/common/support-list-popup/main",["require","exports","module","dep/jquery-colorbox/jquery.colorbox","community/modules/common/main","dep/artTemplate/dist/template"],function(require){function a(a){B||(g=1,w=!0,B=!0,h.ajax({url:_.url.getStarUserList,data:{answerId:a,pageNo:g,pageSize:L}}).done(function(_){if(1==_.state&&_.content.data){supportList=_.content.data.starUserList;var h='{{each supportList as user index}}\n<li>\n	<div class="avatar fl">\n        <a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank">\n            {{if user.portrait && user.portrait != \'\'}}\n            <img src="{{FE_lgsbase}}/{{user.portrait}}" width="40" height="40" alt="{{user.userName}}" />\n            {{else}}\n            <img src="../../https@www.lgstatic.com/www/static/community/modules/common/img/avatar_default_7225407.png" width="40" height="40" alt="{{user.userName}}" />\n            {{/if}}\n        </a>\n    </div>\n	<p><a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank"><span class="user_name">{{user.userName}}</span></a>&nbsp; <a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank"><span class="user_position">{{user.positionName}}</span></a></p>\n	<p><a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank"><span class="user_introduce">{{user.introduce}}</span></a></p>\n	{{if user.isFollow}}\n	<a class="user_follow_btn btn btn_cancel" href="javascript:;" data-user-id="{{user.id}}">已关注</a>\n	{{else}}\n	<a class="user_follow_btn btn" href="javascript:;" data-user-id="{{user.id}}"><i>加</i>关注</a>\n	{{/if}}\n</li>\n{{/each}}\n',g=b.compile(h)({supportList:supportList,FE_base:GLOBAL_DOMAIN.ctx,FE_zbase:GLOBAL_DOMAIN.zctx,FE_lgsbase:GLOBAL_DOMAIN.lgsctx,cdndomain:window.GLOBAL_CDN_DOMAIN});$("#supportListPopupBox .support_list ul").html(g),$.colorbox({inline:!0,href:$("#supportListPopupBox"),title:"赞过的人"}),$("#supportListPopupBox .support_list").scroll(function(){if(!(N||$("#supportListPopupBox .support_list:visible").size()<1)){var _=$("#supportListPopupBox .support_list").scrollTop()+$("#supportListPopupBox .support_list").height();_>=$("#supportListPopupBox .support_list:visible").get(0).scrollHeight&&c(a)}})}else console.log(_.message)}).fail(function(){console.log("getStarUserList error")}).always(function(){B=!1}))}function c(a){if(!N&&w){var c=$(v).show();$("#supportListPopupBox .support_list ul").after(c),N=!0,h.ajax({url:_.url.getStarUserList,data:{answerId:a,pageNo:g+1,pageSize:L}}).done(function(a){if(1==a.state&&a.content.data)if(supportList=a.content.data.starUserList,supportList&&supportList.length>1){g+=1;var c='{{each supportList as user index}}\n<li>\n	<div class="avatar fl">\n        <a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank">\n            {{if user.portrait && user.portrait != \'\'}}\n            <img src="{{FE_lgsbase}}/{{user.portrait}}" width="40" height="40" alt="{{user.userName}}" />\n            {{else}}\n            <img src="../../https@www.lgstatic.com/www/static/community/modules/common/img/avatar_default_7225407.png" width="40" height="40" alt="{{user.userName}}" />\n            {{/if}}\n        </a>\n    </div>\n	<p><a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank"><span class="user_name">{{user.userName}}</span></a>&nbsp; <a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank"><span class="user_position">{{user.positionName}}</span></a></p>\n	<p><a href="{{FE_zbase}}/user/userIndex-{{user.id}}.html" target="_blank"><span class="user_introduce">{{user.introduce}}</span></a></p>\n	{{if user.isFollow}}\n	<a class="user_follow_btn btn btn_cancel" href="javascript:;" data-user-id="{{user.id}}">已关注</a>\n	{{else}}\n	<a class="user_follow_btn btn" href="javascript:;" data-user-id="{{user.id}}"><i>加</i>关注</a>\n	{{/if}}\n</li>\n{{/each}}\n',_=b.compile(c)({supportList:supportList,FE_base:GLOBAL_DOMAIN.ctx,FE_zbase:GLOBAL_DOMAIN.zctx,FE_lgsbase:GLOBAL_DOMAIN.lgsctx,cdndomain:window.GLOBAL_CDN_DOMAIN});$("#supportListPopupBox .support_list ul").append(_)}else w=!1;else console.log(a.message)}).fail(function(){console.log("getStarUserList error")}).always(function(){N=!1,c.remove()})}}require("dep/jquery-colorbox/jquery.colorbox");var _=require("community/modules/common/main").config,h=require("community/modules/common/main").helper,b=require("dep/artTemplate/dist/template");!function(){$("#supportListPopupWrap").size()<1&&$("body").append('<div class="support_list_popup_wrap" id="supportListPopupWrap"></div>'),$("#supportListPopupWrap").append('<div class="support_list_popup_box" id="supportListPopupBox"><div class="support_list"><ul></ul></div></div>'),$("body").on("click",".support_list_btn",function(){a($(this).attr("data-answer-id"))})}();var g=1,L=10,w=!0,v='<div class="loading2">Loading...</div>',B=!1,N=!1,F='<div class="loading2">Loading...</div>';$("#supportListPopupBox").on("click",".user_follow_btn",function(){var a=$(this);if(!a.data("isLoading")){var c=a.attr("data-user-id"),_=a.html();a.html(F),a.data("isLoading",!0),a.hasClass("btn_cancel")?h.cancelFollowUser(c,{done:function(){a.removeClass("btn_cancel").html("<i>加</i>关注")},fail:function(){a.html(_)},always:function(){a.removeData("isLoading")}}):h.followUser(c,{done:function(){a.addClass("btn_cancel").html("已关注")},fail:function(){a.html(_)},always:function(){a.removeData("isLoading")}})}}),$("#supportListPopupBox").on("mouseenter",".user_follow_btn.btn_cancel",function(){$(this).html("取消")}),$("#supportListPopupBox").on("mouseleave",".user_follow_btn.btn_cancel",function(){$(this).html("已关注")})});
/*!community/modules/question-detail/the-question/main.js*/
;define("community/modules/question-detail/the-question/main",["require","exports","module","community/modules/common/main","dep/artTemplate/dist/template","community/modules/common/user-card-float/main","community/modules/common/share/main","community/modules/common/support-list-popup/main"],function(require){var a=require("community/modules/common/main").config,c=require("community/modules/common/main").helper,g=require("dep/artTemplate/dist/template");require("community/modules/common/user-card-float/main"),require("community/modules/common/share/main");var h=$(".main-content"),w=!1,v=0,_=!1,I=0;h.on("click",".question-detail .invite-answer-btn",function(e){var a=$(this),c=h.find(".passive-invite-users .icon-up-arrow"),g=parseInt(a.attr("data-fold"),10);if(!c.data("reset-positon")){var w=a.position();c.css("left",parseInt(w.left,10)+44),c.data("reset-positon",!0)}g?(h.find(".passive-invite-users").show(),a.attr("data-fold",0)):(h.find(".passive-invite-users").hide(),a.attr("data-fold",1)),e.preventDefault(),e.stopPropagation()}),h.on("click",".passive-invite-users .invite-user-btn",function(e){var g=$(this);$.ajax({data:{targetUserId:g.attr("data-user-id"),targetId:g.attr("data-question-id")},url:a.questionPageUrl.inviteAnswer,dataType:"json"}).done(function(a){1===parseInt(a.state,10)?(g.siblings(".cancel-invite-btn").show(),g.hide()):304===parseInt(a.state,10)?PASSPORT.popup():c.alertTips(203===parseInt(a.state,10)?"邀请回答的问题不存在！":204===parseInt(a.state,10)?"邀请回答的问题已关闭！":205===parseInt(a.state,10)?"邀请用户不存在！":"参数错误！")}),e.preventDefault(),e.stopPropagation()}),h.on("click",".question-detail .follow",function(){if(c.checkUserStatus({checkAuthority:!1})&&!_){_=!0,I=setTimeout(function(){_=!1},3e3);{var g=$(this);Math.max(parseInt(g.attr("data-count"),10),0)}$.ajax({data:{questionId:g.attr("data-id")},url:a.url.followQuestion,dataType:"json"}).done(function(a){clearTimeout(I),_=!1,1===parseInt(a.state,10)?$(".question-detail .follow").removeClass("btn_invert follow").addClass("btn_cancel unfollow").html("已关注"):304===parseInt(a.state,10)?PASSPORT.popup():c.alertTips(201===parseInt(a.state,10)?"参数错误！":203===parseInt(a.state,10)?"你关注的问题已经不存在了！":1e4===parseInt(a.state,10)?"你无权执行该操作！":"不好意思，服务器开了个小差，关注失败！")})}}),h.on("click",".question-detail .unfollow",function(){if(!_){_=!0,I=setTimeout(function(){_=!1},3e3);{var g=$(this);Math.max(parseInt(g.attr("data-count"),10),0)}$.ajax({data:{questionId:g.attr("data-id")},url:a.url.cancelFollowQuestion,dataType:"json"}).done(function(a){clearTimeout(I),_=!1,1===parseInt(a.state,10)?$(".question-detail .unfollow").removeClass("btn_cancel unfollow").addClass("btn_invert follow").html("关注"):304===parseInt(a.state,10)?PASSPORT.popup():c.alertTips(201===parseInt(a.state,10)?"参数错误！":203===parseInt(a.state,10)?"你取消关注的问题已经不存在了！":1e4===parseInt(a.state,10)?"你无权执行该操作！":"不好意思，服务器开了个小差，取消关注问题失败！")})}}),h.on("click",".answer-btn",function(){c.checkUserStatus()}),h.on("click",".like",function(e){if(c.checkUserStatus({checkAuthority:!1})&&!w){w=!0,v=setTimeout(function(){w=!1},3e3);var g=$(this);if(1!==parseInt(g.attr("data-owned"),10)){var h=g.attr("data-id"),_=parseInt(g.attr("data-liked"),10);1===_?$.ajax({data:{answerId:h},url:a.url.cancelSupportAnswer,dataType:"json"}).done(function(a){if(clearTimeout(v),w=!1,1===parseInt(a.state,10)){{var h=g.find(".like-count");g.find(".like-icon")}h.text(a.content.data.starCount),g.removeClass("liked"),g.attr("data-liked",0)}else 304===parseInt(a.state,10)?PASSPORT.popup():c.alertTips(201===parseInt(a.state,10)?"参数错误！":203===parseInt(a.state,10)?"你取消点赞的答案已经不存在了！":1e4===parseInt(a.state,10)?"你无权执行该操作！":"不好意思，服务器开了个小差，点赞取消失败！")}):$.ajax({data:{answerId:h},url:a.url.supportAnswer,dataType:"json"}).done(function(a){if(clearTimeout(v),w=!1,1===parseInt(a.state,10)){{var h=g.find(".like-count");g.find(".like-icon")}h.text(a.content.data.starCount),g.addClass("liked"),g.attr("data-liked",1)}else 304===parseInt(a.state,10)?PASSPORT.popup():c.alertTips(201===parseInt(a.state,10)?"参数错误！":203===parseInt(a.state,10)?"你点赞的答案已经不存在了！":205===parseInt(a.state,10)?"你不需要给自己的答案点赞！":1e4===parseInt(a.state,10)?"你无权执行该操作！":"不好意思，服务器开了个小差，点赞失败！")}),e.preventDefault(),e.stopPropagation()}}}),h.on("mouseenter",".like",function(){var a=$(this),c=parseInt(a.attr("data-liked"),10);c||a.addClass("liked")}),h.on("mouseleave",".like",function(){var a=$(this),c=parseInt(a.attr("data-liked"),10);c||a.removeClass("liked")}),h.on("click",".answer-content .unfold-all-content",function(e){var a=$(this).parents(".answer-content");a.data("innerHTML",a.html()),a.html(a.find(".summary").attr("data-content")),e.preventDefault(),e.stopPropagation()}),$(".answer-content .summary").dotdotdot({height:100,after:"span.read-more"});var b=2,j=window.location.href.match(/[&?]sort=(\d+)/i);if(h.on("click","#load-more-answers",function(e){var h=$(this),w=$.trim(h.attr("data-question-id"));h.hide(),$(".loading1").show(),$.ajax({data:{questionId:w,pageSize:10,pageNo:b,sort:j?j[1]:0},url:a.questionPageUrl.getAnswerList,dataType:"json"}).done(function(a){if(1===parseInt(a.state,10)){var v=a.content.data.answerList;if($(".loading1").hide(),!v.length)return void h.hide();var _='{{each result as item i}}\n    {{if answerUserInfo = item.answerUser}}{{/if}}\n\n    <li class="answer-item" data-id="{{item.id}}">\n        <div class="{{if isArgueTime}} support_bar_vote {{else}} support_bar{{/if}}" data-lg-tj-id="19f0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{item.id}}">\n            <div class="like {{if item.hasClickLike}} liked {{/if}}" data-id="{{item.id}}" {{if item.myAnswer}}  data-owned="1" {{/if}} {{if item.hasClickLike}} data-liked="1" {{/if}} >\n                <span class="like-icon" {{if item.myAnswer}} style="cursor:default;" {{/if}}>&nbsp;</span>\n                <span class="like-count">{{item.starNum}}</span>\n                {{if item.voteOption && item.voteOption.id == argueSupportId}}\n                <span class="event_argue_support_mark">蓝方</span>\n                {{else if item.voteOption && item.voteOption.id == argueOpposeId}}\n                <span class="event_argue_oppose_mark">红方</span>\n                {{/if}}\n            </div>\n        </div>\n\n        <div class="answer-detail">\n            <div class="user-info">\n                {{if !item.anonymous && answerUserInfo.portrait}}\n                    <a href="{{FE_zbase}}/user/userIndex-{{answerUserInfo.id}}.html?newsType=ALL" target="_blank" data-lg-tj-id="19e0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{answerUserInfo.id}}"><img class="portrait show-user-card" {{if item.anonymous}} data-anonymous="1" style="cursor:default;" {{/if}} src="{{imgPrefix}}/{{answerUserInfo.portrait}}" width="44" height="44" alt="用户头像" /></a>\n                {{else}}\n                    {{if !item.anonymous}}\n                        <a href="{{FE_zbase}}/user/userIndex-{{answerUserInfo.id}}.html?newsType=ALL" target="_blank" data-lg-tj-id="19e0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{answerUserInfo.id}}">\n                    {{/if}}\n                            <img class="portrait show-user-card" {{if item.anonymous}} data-anonymous="1" style="cursor:default;" {{/if}} src="{{avatarUrl}}" width="44" height="44" alt="用户头像" />\n                    {{if !item.anonymous}}\n                        </a>\n                    {{/if}}\n                {{/if}}\n\n                <p class="user-info-base"><span class="show-user-card" {{if item.anonymous}} data-anonymous="1" style="cursor:default;" {{/if}}>\n                    {{if item.anonymous}}\n                        <span class="username" data-lg-tj-id="19g0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{answerUserInfo.id}}">匿名用户</span>\n                        <span class="position" data-lg-tj-id="19h0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{answerUserInfo.id}}">可能来自遥远的阿贝尔2029星系群</span>\n                    {{else}}\n                        <a href="{{FE_zbase}}/user/userIndex-{{answerUserInfo.id}}.html?newsType=ALL" target="_blank">\n                            <span class="username" data-lg-tj-id="19g0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{answerUserInfo.id}}">{{answerUserInfo.userName}}</span>\n                            <span class="position" data-lg-tj-id="19h0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{answerUserInfo.id}}">{{answerUserInfo.positionName}}</span>\n                        </a>\n                    {{/if}}\n                </span></p>\n\n            </div>\n\n            <div class="answer-content editor_parse">\n                {{#item.content}}\n            </div>\n\n            {{if item.myAnswer}}\n                {{if myAnswerContent = item.content}}{{/if}}\n                <div class="edit-answer-toolbar">\n                    <form class="edit-my-answer" id="myAnswerEditor">\n    <div class="rich-editor-container">\n        <textarea class="answer-editor">{{#myAnswerContent}}</textarea>\n    </div>\n\n    <div class="addtion-infos">\n        <input class="magic-checkbox" id="myAnswerAnonymityBtn" name="anonymous" type="checkbox" {{if item.anonymous}} checked="checked" {{/if}} />\n        <label class="anonymous-text" for="myAnswerAnonymityBtn" data-lg-tj-id="1c60" data-lg-tj-no="idnull" data-lg-tj-cid="{{item.id}}">匿名回答</label>\n        <span class="agreement fr">你的回答需遵守<a href="1138.html" target="_blank" data-lg-tj-id="1c70" data-lg-tj-no="idnull" data-lg-tj-cid="{{item.id}}">《拉勾社区管理规范》</a></span>\n    </div>\n\n    <div class="btns">\n        <input class="submit-btn" type="button" value="提交" data-lg-tj-id="1c80" data-lg-tj-no="idnull" data-lg-tj-cid="{{item.id}}"/>\n        <input class="cancel-btn" type="button" value="取消" data-lg-tj-id="1c90" data-lg-tj-no="idnull" data-lg-tj-cid="{{item.id}}"/>\n    </div>\n\n    <input type="hidden" name="questionId" value="{{questionId}}" />\n    <input type="hidden" name="answerId" value="{{item.id}}" />\n</form>\n\n                </div>\n            {{/if}}\n\n            {{if item.myAnswer}}\n                <a class="edit-answer-btn" data-answer-id="{{item.id}}" href="javascript:;" data-lg-tj-id="1a10" data-lg-tj-no="idnull" data-lg-tj-cid="{{item.id}}">编辑回答</a>\n            {{/if}}\n\n            <a class="publish-date" href="{{FE_zbase}}/answer/{{item.id}}.html" data-lg-tj-id="19i0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{item.id}}">发布于{{item.publishTime}}</a>\n\n            <div class="extra-info">\n                <a class="comments-count extra-info-item" href="{{FE_zbase}}/answer/{{item.id}}.html" data-lg-tj-id="19j0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{item.id}}">{{item.commentCount}}条评论</a>\n\n                {{if item.starUserList && item.starUserList.length > 0}}\n                <i class="dot">&middot;</i>\n                <span class="extra-info-item">{{each item.starUserList as supportUser index}}<a href="{{FE_zbase}}/user/userIndex-{{supportUser.id}}.html" target="_blank" data-lg-tj-id="1ak0" data-lg-tj-no="{{pageNum < 10 ? \'0\' + pageNum : pageNum}}{{i + 1 < 10 ? \'0\' + (i + 1) : i + 1}}" data-lg-tj-cid="{{item.id}}">{{supportUser.userName}}</a>{{if index + 1 < item.starUserList.length}}、{{/if}}{{/each}}{{if item.starTrueNum > 3}}等<a class="support_list_btn" href="javascript:;" data-answer-id="{{item.id}}"><em>{{item.starNum}}</em>人赞过</a>{{else}}赞过{{/if}}</span>\n                {{/if}}\n                <i class="dot">&middot;</i>\n                <span class="extra-info-item"><a class="share_popup_btn" href="javascript:;" data-share-url="{{FE_zbase}}/share/answer_{{item.id}}.html" data-lg-tj-id="1Ne0" data-lg-tj-no="idnull" data-lg-tj-cid="{{item.id}}">分享</a></span>\n            </div>\n        </div>\n\n        {{if !item.anonymous}}\n            {{if userinfoFloat = item.answerUser}}{{/if}}\n            {{if FE_base = imgPrefix}}{{/if}}\n            <!--\n    问答社区-浮动用户卡片 arttemplate模板\n-->\n\n<div class="user_card_float">\n    <div class="user_card_float_box">\n        <div class="avatar fl">\n            <a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html" target="_blank">\n                {{if userinfoFloat.portrait && userinfoFloat.portrait != \'\'}}\n                <img src="{{FE_lgsbase}}/{{userinfoFloat.portrait}}" width="54" height="54" />\n                {{else}}\n                <img src="../img/avatar_default.png" width="54" height="54" />\n                {{/if}}\n            </a>\n        </div>\n        <div class="userinfo_base">\n            <a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html" target="_blank">\n                {{if userinfoFloat.userName.length > 15}}\n                <span>{{userinfoFloat.userName.substring(0,14)}}...</span>\n                {{else}}\n                <span>{{userinfoFloat.userName}}</span>\n                {{/if}}\n                {{if userinfoFloat.sex == \'MALE\'}}\n                <i class="boy">男</i>\n                {{else if userinfoFloat.sex == \'FEMALE\'}}\n                <i class="girl">女</i>\n                {{/if}}\n            </a>\n        </div>\n        {{if userinfoFloat.id == curUserid}}\n        <!-- <a class="userinfo_edit" href="javascript:;">编辑</a> -->\n        {{/if}}\n        <p class="userinfo_job" title="{{userinfoFloat.positionName}}"><a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html" target="_blank">{{userinfoFloat.positionName}}</a></p>\n        <p class="userinfo_intro" title="{{userinfoFloat.introduce}}"><a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html" target="_blank">{{userinfoFloat.introduce}}</a></p>\n        <div class="user_status">\n            <ul class="clearfix">\n                <li><a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html?newsType=QUESTION" target="_blank"><em>{{userinfoFloat.questionNum}}</em>提问</a></li>\n                <li><a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html?newsType=ANSWER" target="_blank"><em>{{userinfoFloat.answerNum}}</em>回答</a></li>\n                <li><a href="{{FE_zbase}}/user/userIndex-{{userinfoFloat.id}}.html?newsType=ANSWER" target="_blank"><em>{{userinfoFloat.gainStarNum}}</em>获赞</a></li>\n            </ul>\n        </div>\n        {{if userinfoFloat.isFollow && userinfoFloat.id != curUserid}}\n        <a class="user_follow_btn btn btn_cancel" href="javascript:;" data-user-id="{{userinfoFloat.id}}">已关注</a>\n        {{else if userinfoFloat.id != curUserid}}\n        <a class="user_follow_btn btn" href="javascript:;" data-user-id="{{userinfoFloat.id}}"><i>加</i>关注</a>\n        {{/if}}\n        <span class="deck_out"></span>\n        <span class="deck_in"></span>\n    </div>\n</div>\n\n        {{/if}}\n    </li>\n{{/each}}\n',I="../../https@www.lgstatic.com/www/static/community/modules/common/img/avatar_default_7225407.png",j=g.compile(_)({result:v,questionId:w,avatarUrl:I,imgPrefix:window.GLOBAL_DOMAIN&&window.GLOBAL_DOMAIN.lgsctx?window.GLOBAL_DOMAIN.lgsctx:"",pageNum:b,isArgueTime:$("#eventArgueMain").size()>0,argueSupportId:$("#eventArgueMain input[name=argueSupportId]").val()||"",argueOpposeId:$("#eventArgueMain input[name=argueOpposeId]").val()||"",curUserid:global.curUserid,FE_zbase:GLOBAL_DOMAIN.zctx,FE_lgsbase:GLOBAL_DOMAIN.lgsctx,cdndomain:window.GLOBAL_CDN_DOMAIN});a.content.data.hasMoreAnswer?(h.show(),b++):h.hide(),$(".answer-item:last").css("border-bottom","1px dashed #e8e8e8"),$(".answer-list").append(j),$(".answer-item:last").css("border-width",0)}else 304===parseInt(a.state,10)?PASSPORT.popup():c.alertTips("未知错误")}),e.preventDefault(),e.stopPropagation()}),h.on("mouseenter",".answer-item .show-user-card",function(){var a=$(this);if(1!==parseInt(a.attr("data-anonymous"),10)){var c=a.parents(".answer-item").find(".user_card_float");a.append(c),c.show()}}),h.on("mouseleave",".answer-item .show-user-card",function(){var a=$(this);if(1!==parseInt(a.attr("data-anonymous"),10)){var c=a.parents(".answer-item").find(".user_card_float");c.hide()}}),$("#answerQuestion").size()<1&&$(window).on("scroll",function(){var a=$("#load-more-answers:visible");0!==a.length&&$(window).scrollTop()+$(window).height()>$(document).height()-585&&a.click()}),require("community/modules/common/support-list-popup/main"),$("#eventArgueMain").size()>0){var y=$("#eventArgueMain .status_bar .argue_support_percent").text()-0,k=$("#eventArgueMain .status_bar .argue_oppose_percent").text()-0,N=$("#eventArgueMain .status_bar").width()-10;(0!=y||0!=k)&&($("#eventArgueMain .status_bar .argue_support_percent").width(N*y),$("#eventArgueMain .status_bar .argue_oppose_percent").width(N*k)),$("#answerQuestion .event_argue_vote").size()>0&&$("#eventArgueMain .argue_icon").click(function(){$("html, body").animate({scrollTop:$("#answerQuestion").offset().top},500)})}});
/*!common/components/wangEditor-custom/dist/js/wangEditor.js*/
;!function(a){"function"==typeof define?define.amd?define("common/components/wangEditor-custom/dist/js/wangEditor",["jquery"],a):define.cmd?define(["require","exports","module"],function(){return a}):a(window.jQuery):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){if(!a||!a.fn||!a.fn.jquery)return void alert("在引用wangEditor.js之前，先引用jQuery，否则无法使用 wangEditor");var c=function(c){var h=window.wangEditor;h&&c(h,a)};return function(a,c){if(a.wangEditor)return void alert("一个页面不能重复引用 wangEditor.js 或 wangEditor.min.js ！！！");var h=function(a){"string"==typeof a&&(a="#"+a);var h=c(a);if(1===h.length){var g=h[0].nodeName;("TEXTAREA"===g||"DIV"===g)&&(this.valueNodeName=g.toLowerCase(),this.$valueContainer=h,this.$prev=h.prev(),this.$parent=h.parent(),this.init())}};h.fn=h.prototype,h.$body=c("body"),h.$document=c(document),h.$window=c(a),h.userAgent=navigator.userAgent,h.getComputedStyle=a.getComputedStyle,h.w3cRange="function"==typeof document.createRange,h.hostname=location.hostname.toLowerCase(),h.websiteHost="wangeditor.github.io|www.wangeditor.com|wangeditor.coding.me",h.isOnWebsite=h.websiteHost.indexOf(h.hostname)>=0,h.docsite="http://www.kancloud.cn/wangfupeng/wangeditor2/113961",a.wangEditor=h,h.plugin=function(a){h._plugins||(h._plugins=[]),"function"==typeof a&&h._plugins.push(a)}}(window,a),c(function(a){a.fn.init=function(){this.initDefaultConfig(),this.addEditorContainer(),this.addTxt(),this.addMenuContainer(),this.menus={},this.commandHooks()}}),c(function(a,c){a.fn.ready=function(a){this.readyFns||(this.readyFns=[]),this.readyFns.push(a)},a.fn.readyHeadler=function(){for(var a=this.readyFns;a.length;)a.shift().call(this)},a.fn.updateValue=function(){var a=this,c=a.$valueContainer,h=a.txt.$txt;if(c!==h){var g=h.html();c.val(g)}},a.fn.getInitValue=function(){var a=this,c=a.$valueContainer,h="",g=a.valueNodeName;return"div"===g?h=c.html():"textarea"===g&&(h=c.val()),h},a.fn.updateMenuStyle=function(){var a=this.menus;c.each(a,function(a,c){c.updateSelected()})},a.fn.enableMenusExcept=function(a){this._disabled||(a=a||[],"string"==typeof a&&(a=[a]),c.each(this.menus,function(c,h){a.indexOf(c)>=0||h.disabled(!1)}))},a.fn.disableMenusExcept=function(a){this._disabled||(a=a||[],"string"==typeof a&&(a=[a]),c.each(this.menus,function(c,h){a.indexOf(c)>=0||h.disabled(!0)}))},a.fn.hideDropPanelAndModal=function(){var a=this.menus;c.each(a,function(a,c){var m=c.dropPanel||c.dropList||c.modal;m&&m.hide&&m.hide()})}}),c(function(a,c){function h(){}var g=!a.w3cRange;a.fn.currentRange=function(a){return a?void(this._rangeData=a):this._rangeData},a.fn.collapseRange=function(a,c){c=c||"end",c="start"===c?!0:!1,a=a||this.currentRange(),a&&(a.collapse(c),this.currentRange(a))},a.fn.getRangeText=g?h:function(a){return(a=a||this.currentRange())?a.toString():void 0},a.fn.getRangeElem=g?h:function(a){a=a||this.currentRange();var c=a.commonAncestorContainer;return 1===c.nodeType?c:c.parentNode},a.fn.isRangeEmpty=g?h:function(a){return a=a||this.currentRange(),a&&a.startContainer&&a.startContainer===a.endContainer&&a.startOffset===a.endOffset?!0:!1},a.fn.saveSelection=g?h:function(a){var h,g,v=this,w=v.txt.$txt.get(0);a?h=a.commonAncestorContainer:(g=document.getSelection(),g.getRangeAt&&g.rangeCount&&(a=document.getSelection().getRangeAt(0),h=a.commonAncestorContainer)),h&&(c.contains(w,h)||w===h)&&v.currentRange(a)},a.fn.restoreSelection=g?h:function(c){var h;if(c=c||this.currentRange())try{h=document.getSelection(),h.removeAllRanges(),h.addRange(c)}catch(ex){a.error("执行 editor.restoreSelection 时，IE可能会有异常，不影响使用")}},a.fn.restoreSelectionByElem=g?h:function(a,c){a&&(c=c||"end",this.setRangeByElem(a),"start"===c&&this.collapseRange(this.currentRange(),"start"),"end"===c&&this.collapseRange(this.currentRange(),"end"),this.restoreSelection())},a.fn.initSelection=g?h:function(){var a=this;if(!a.currentRange()){var c=a.txt.$txt,h=c.children().first();h.length&&a.restoreSelectionByElem(h.get(0))}},a.fn.setRangeByElem=g?h:function(a){var h=this,g=h.txt.$txt.get(0);if(a&&c.contains(g,a)){for(var v=a.firstChild;v&&3!==v.nodeType;)v=v.firstChild;for(var w=a.lastChild;w&&3!==w.nodeType;)w=w.lastChild;var y=document.createRange();v&&w?(y.setStart(v,0),y.setEnd(w,w.textContent.length)):(y.setStart(a,0),y.setEnd(a,0)),h.saveSelection(y)}}}),c(function(a,c){a.w3cRange||(a.fn.getRangeText=function(a){return(a=a||this.currentRange())?a.text:void 0},a.fn.getRangeElem=function(a){if(a=a||this.currentRange()){var c=a.parentElement();return 1===c.nodeType?c:c.parentNode}},a.fn.isRangeEmpty=function(a){return a=a||this.currentRange(),a&&a.text?!1:!0},a.fn.saveSelection=function(a){var h,g=this,v=g.txt.$txt.get(0);a?h=a.parentElement():(a=document.selection.createRange(),h="undefined"==typeof a.parentElement?null:a.parentElement()),h&&(c.contains(v,h)||v===h)&&g.currentRange(a)},a.fn.restoreSelection=function(a){var c,h=this;if(a=a||h.currentRange()){c=document.selection.createRange();try{c.setEndPoint("EndToEnd",a)}catch(ex){}if(0===a.text.length)try{c.collapse(!1)}catch(ex){}else c.setEndPoint("StartToStart",a);c.select()}})}),c(function(a,c){a.fn.commandHooks=function(){var a=this,h={};h.insertHtml=function(h){var g,v=c(h),w=a.getRangeElem();g=a.getLegalTags(w),g&&c(g).after(v)},a.commandHooks=h}}),c(function(a){a.fn.command=function(e,a,c,h){function g(){a&&(w.queryCommandSupported(a)?document.execCommand(a,!1,c):(v=w.commandHooks,a in v&&v[a](c)))}var v,w=this;this.customCommand(e,g,h)},a.fn.commandForElem=function(a,e,c,h,g){var v,w;"string"==typeof a?v=a:(v=a.selector,w=a.check);var y=this.getRangeElem();y=this.getSelfOrParentByName(y,v,w),y&&this.setRangeByElem(y),this.command(e,c,h,g)},a.fn.customCommand=function(e,a,c){function h(){g.hideDropPanelAndModal()}var g=this,v=g.currentRange();return v?(g.undoRecord(),this.restoreSelection(v),a.call(g),this.saveSelection(),this.restoreSelection(),c&&"function"==typeof c&&c.call(g),g.txt.insertEmptyP(),g.txt.wrapImgAndText(),g.updateValue(),g.updateMenuStyle(),setTimeout(h,200),void(e&&e.preventDefault())):void(e&&e.preventDefault())},a.fn.queryCommandValue=function(a){var c="";try{c=document.queryCommandValue(a)}catch(ex){}return c},a.fn.queryCommandState=function(a){var c=!1;try{c=document.queryCommandState(a)}catch(ex){}return c},a.fn.queryCommandSupported=function(a){var c=!1;try{c=document.queryCommandSupported(a)}catch(ex){}return c}}),c(function(a,c){function h(a){var h=this,g=c(a),v=!1;return g.each(function(){return this===h?(v=!0,!1):void 0}),v}var g;a.fn.getLegalTags=function(c){var h=this.config.legalTags;return h?this.getSelfOrParentByName(c,h):void a.error("配置项中缺少 legalTags 的配置")},a.fn.getSelfOrParentByName=function(a,v,w){if(a&&v){g||(g=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector),g||(g=h);for(var y=this.txt.$txt.get(0);a&&y!==a&&c.contains(y,a);){if(g.call(a,v)){if(!w)return a;if(w(a))return a}a=a.parentNode}}}}),c(function(a){function c(a){return null==a._redoList&&(a._redoList=[]),a._redoList}function h(a){return null==a._undoList&&(a._undoList=[]),a._undoList}function g(a,c,h){var g=c.val,v=a.txt.$txt.html();if(null!=g){if(g===v)return"redo"===h?void a.redo():"undo"===h?void a.undo():void 0;a.txt.$txt.html(g),a.updateValue(),a.onchange&&"function"==typeof a.onchange&&a.onchange.call(a)}}var v=20;a.fn.undoRecord=function(){var a=this,g=a.txt.$txt,w=g.html(),y=h(a),b=c(a),E=y.length?y[0]:"";w!==E.val&&(b.length&&(b=[]),y.unshift({range:a.currentRange(),val:w}),y.length>v&&y.pop())},a.fn.undo=function(){var a=this,v=h(a),w=c(a);if(v.length){var y=v.shift();w.unshift(y),g(this,y,"undo")}},a.fn.redo=function(){var a=this,v=h(a),w=c(a);if(w.length){var y=w.shift();v.unshift(y),g(this,y,"redo")}}}),c(function(a,c){a.fn.create=function(){var h=this;a.$body&&0!==a.$body.length||(a.$body=c("body"),a.$document=c(document),a.$window=c(window)),h.addMenus(),h.renderMenus(),h.renderMenuContainer(),h.renderTxt(),h.renderEditorContainer(),h.eventMenus(),h.eventMenuContainer(),h.eventTxt(),h.readyHeadler(),h.initSelection(),h.$txt=h.txt.$txt;var g=a._plugins;g&&g.length&&c.each(g,function(a,c){c.call(h)})},a.fn.disable=function(){this.txt.$txt.removeAttr("contenteditable"),this.disableMenusExcept(),this._disabled=!0},a.fn.enable=function(){this._disabled=!1,this.txt.$txt.attr("contenteditable","true"),this.enableMenusExcept()},a.fn.destroy=function(){var a=this,c=a.$valueContainer,h=a.$editorContainer,g=a.valueNodeName;"div"===g?(c.removeAttr("contenteditable"),h.after(c),h.hide()):(c.show(),h.hide())},a.fn.undestroy=function(){var a=this,c=a.$valueContainer,h=a.$editorContainer,g=a.menuContainer.$menuContainer,v=a.valueNodeName;"div"===v?(c.attr("contenteditable","true"),g.after(c),h.show()):(c.hide(),h.show())},a.fn.clear=function(){var a=this,c=a.txt.$txt;c.html("<p><br></p>"),a.restoreSelectionByElem(c.find("p").get(0))}}),c(function(a){var c=function(a){this.editor=a,this.init()};c.fn=c.prototype,a.MenuContainer=c}),c(function(a,c){var h=a.MenuContainer;h.fn.init=function(){var a=this,h=c('<div class="wangEditor-menu-container clearfix"></div>');a.$menuContainer=h,a.changeShadow()},h.fn.changeShadow=function(){var a=this.$menuContainer,c=this.editor,h=c.txt.$txt;h.on("scroll",function(){h.scrollTop()>10?a.addClass("wangEditor-menu-shadow"):a.removeClass("wangEditor-menu-shadow")})}}),c(function(a,c){var h=a.MenuContainer;h.fn.render=function(){var a=this.$menuContainer,c=this.editor.$editorContainer;c.append(a)},h.fn.height=function(){var a=this.$menuContainer;return a.height()},h.fn.appendMenu=function(a,c){return this._addGroup(a),this._addOneMenu(c)},h.fn._addGroup=function(a){var h,g=this.$menuContainer;this.$currentGroup&&this.currentGroupIdx===a||(h=c('<div class="menu-group clearfix"></div>'),g.append(h),this.$currentGroup=h,this.currentGroupIdx=a)},h.fn._addOneMenu=function(a){var h=a.$domNormal,g=a.$domSelected,v=this.$currentGroup,w=c('<div class="menu-item clearfix"></div>');return g.hide(),w.append(h).append(g),v.append(w),w}}),c(function(a){var c=function(a){this.editor=a.editor,this.id=a.id,this.title=a.title,this.$domNormal=a.$domNormal,this.$domSelected=a.$domSelected||a.$domNormal,this.commandName=a.commandName,this.commandValue=a.commandValue,this.commandNameSelected=a.commandNameSelected||a.commandName,this.commandValueSelected=a.commandValueSelected||a.commandValue};c.fn=c.prototype,a.Menu=c}),c(function(a,c){var h=a.Menu;h.fn.initUI=function(){var h=this.editor,g=h.UI.menus,v=this.id,w=g[v];this.$domNormal&&this.$domSelected||(null==w&&(a.warn('editor.UI配置中，没有菜单 "'+v+'" 的UI配置，只能取默认值'),w=g["default"]),this.$domNormal=c(w.normal),this.$domSelected=/^\./.test(w.selected)?this.$domNormal.clone().addClass(w.selected.slice(1)):c(w.selected))}}),c(function(a,c){var h=a.Menu;h.fn.render=function(a){this.initUI();var c=this.editor,h=c.menuContainer,g=h.appendMenu(a,this),v=this.onRender;this._renderTip(g),v&&"function"==typeof v&&v.call(this)},h.fn._renderTip=function(h){function g(){k.show()}function v(){k.hide()}var w,y=this,b=y.editor,E=y.title,k=c('<div class="menu-tip"></div>');y.tipWidth||(w=c('<p style="opacity:0; filter:Alpha(opacity=0); position:absolute;top:-10000px;">'+E+"</p>"),a.$body.append(w),b.ready(function(){var a=w.outerWidth()+5,c=k.outerWidth(),h=parseFloat(k.css("margin-left"),10);w.remove(),w=null,k.css({width:a,"margin-left":h+(c-a)/2}),y.tipWidth=a})),k.append(E),h.append(k);var C;h.find("a").on("mouseenter",function(){y.active()||y.disabled()||(C=setTimeout(g,200))}).on("mouseleave",function(){C&&clearTimeout(C),v()}).on("click",v)},h.fn.bindEvent=function(){var c=this,h=c.$domNormal,g=c.$domSelected,v=c.clickEvent;v||(v=function(e){var h=c.dropPanel||c.dropList||c.modal;if(h&&h.show)return void(h.isShowing?h.hide():h.show());var g,v,w=c.editor,y=c.selected;y?(g=c.commandNameSelected,v=c.commandValueSelected):(g=c.commandName,v=c.commandValue),g?w.command(e,g,v):(a.warn('菜单 "'+c.id+'" 未定义click事件'),e.preventDefault())});var w=c.clickEventSelected||v;h.click(function(e){c.disabled()||(v.call(c,e),c.updateSelected()),e.preventDefault()}),g.click(function(e){c.disabled()||(w.call(c,e),c.updateSelected()),e.preventDefault()})},h.fn.updateSelected=function(){var a=this,c=(a.editor,a.updateSelectedEvent);c||(c=function(){var a=this,c=a.editor,h=a.commandName,g=a.commandValue;if(g){if(c.queryCommandValue(h).toLowerCase()===g.toLowerCase())return!0}else if(c.queryCommandState(h))return!0;return!1});var h=c.call(a);h=!!h,a.changeSelectedState(h)},h.fn.changeSelectedState=function(a){var c=this,h=c.selected;if(null!=a&&"boolean"==typeof a){if(h===a)return;c.selected=a,a?(c.$domNormal.hide(),c.$domSelected.show()):(c.$domNormal.show(),c.$domSelected.hide())}},h.fn.active=function(a){return null==a?this._activeState:void(this._activeState=a)},h.fn.activeStyle=function(a){var c=(this.selected,this.$domNormal),h=this.$domSelected;a?(c.addClass("active"),h.addClass("active")):(c.removeClass("active"),h.removeClass("active")),this.active(a)},h.fn.disabled=function(a){if(null==a)return!!this._disabled;if(this._disabled!==a){var c=this.$domNormal,h=this.$domSelected;a?(c.addClass("disable"),h.addClass("disable")):(c.removeClass("disable"),h.removeClass("disable")),this._disabled=a}}}),c(function(a){var c=function(a,c,h){this.editor=a,this.menu=c,this.data=h.data,this.tpl=h.tpl,this.selectorForELemCommand=h.selectorForELemCommand,this.beforeEvent=h.beforeEvent,this.afterEvent=h.afterEvent,this.init()};c.fn=c.prototype,a.DropList=c}),c(function(a,c){var h=a.DropList;h.fn.init=function(){var a=this;a.initDOM(),a.bindEvent(),a.initHideEvent()},h.fn.initDOM=function(){var a,h,g=this,v=g.data,w=g.tpl||"<span>{#title}</span>",y=c('<div class="wangEditor-drop-list clearfix"></div>');c.each(v,function(g,v){a=w.replace(/{#commandValue}/gi,g).replace(/{#title}/gi,v),h=c('<a href="#" commandValue="'+g+'"></a>'),h.append(a),y.append(h)}),g.$list=y},h.fn.bindEvent=function(){var a=this,h=a.editor,g=a.menu,v=g.commandName,w=a.selectorForELemCommand,y=a.$list,b=a.beforeEvent,E=a.afterEvent;y.on("click","a[commandValue]",function(e){b&&"function"==typeof b&&b.call(e);var a=c(e.currentTarget).attr("commandValue");g.selected&&h.isRangeEmpty()&&w?h.commandForElem(w,e,v,a):h.command(e,v,a),E&&"function"==typeof E&&E.call(e)})},h.fn.initHideEvent=function(){var h=this,g=h.$list.get(0);a.$body.on("click",function(e){if(h.isShowing){var a,v=e.target,w=h.menu;a=w.selected?w.$domSelected.get(0):w.$domNormal.get(0),a===v||c.contains(a,v)||g===v||c.contains(g,v)||h.hide()}}),a.$window.scroll(function(){h.hide()}),a.$window.on("resize",function(){h.hide()})}}),c(function(a){var c=a.DropList;c.fn._render=function(){var a=this,c=a.editor,h=a.$list;c.$editorContainer.append(h),a.rendered=!0},c.fn._position=function(){var a=this,c=a.$list,h=a.editor,g=a.menu,v=h.menuContainer.$menuContainer,w=g.selected?g.$domSelected:g.$domNormal,y=w.offsetParent().position(),b=y.top,E=y.left,k=w.offsetParent().height(),C=w.offsetParent().width(),$=c.outerWidth(),S=h.txt.$txt.outerWidth(),M=b+k,T=E+C/2,N=0-C/2,R=T+$-S;R>-10&&(N=N-R-10),c.css({top:M,left:T,"margin-left":N}),h._isMenufixed&&(M+=v.offset().top+v.outerHeight()-c.offset().top,c.css({top:M}))},c.fn.show=function(){var a=this,c=a.menu;if(a.rendered||a._render(),!a.isShowing){var h=a.$list;h.show(),a._position(),a.isShowing=!0,c.activeStyle(!0)}},c.fn.hide=function(){var a=this,c=a.menu;if(a.isShowing){var h=a.$list;h.hide(),a.isShowing=!1,c.activeStyle(!1)}}}),c(function(a){var c=function(a,c,h){this.editor=a,this.menu=c,this.$content=h.$content,this.width=h.width||200,this.height=h.height,this.onRender=h.onRender,this.init()};c.fn=c.prototype,a.DropPanel=c}),c(function(a,c){var h=a.DropPanel;h.fn.init=function(){var a=this;a.initDOM(),a.initHideEvent()},h.fn.initDOM=function(){var a=this,h=a.$content,g=a.width,v=a.height,w=c('<div class="wangEditor-drop-panel clearfix"></div>'),y=c('<div class="tip-triangle"></div>');w.css({width:g,height:v?v:"auto"}),w.append(y),w.append(h),a.$panel=w,a.$triangle=y},h.fn.initHideEvent=function(){var h=this,g=h.$panel.get(0);a.$body.on("click",function(e){if(h.isShowing){var a,v=e.target,w=h.menu;a=w.selected?w.$domSelected.get(0):w.$domNormal.get(0),a===v||c.contains(a,v)||g===v||c.contains(g,v)||h.hide()}}),a.$window.scroll(function(){h.hide()}),a.$window.on("resize",function(){h.hide()})}}),c(function(a,c){var h=a.DropPanel;h.fn._render=function(){var a=this,c=a.onRender,h=a.editor,g=a.$panel;h.$editorContainer.append(g),c&&c.call(a),a.rendered=!0},h.fn._position=function(){var a=this,c=a.$panel,h=a.$triangle,g=a.editor,v=g.menuContainer.$menuContainer,w=a.menu,y=w.selected?w.$domSelected:w.$domNormal,b=y.offsetParent().position(),E=b.top,k=b.left,C=y.offsetParent().height(),$=y.offsetParent().width(),S=c.outerWidth(),M=g.txt.$txt.outerWidth(),T=E+C,N=k+$/2,R=0-S/2,D=R;0-R>N-10&&(R=0-(N-10));var P=N+S+R-M;P>-10&&(R=R-P-10),c.css({top:T,left:N,"margin-left":R}),g._isMenufixed&&(T+=v.offset().top+v.outerHeight()-c.offset().top,c.css({top:T})),h.css({"margin-left":D-R-5})},h.fn.focusFirstInput=function(){var a=this,h=a.$panel;h.find("input[type=text],textarea").each(function(){var a=c(this);return null==a.attr("disabled")?(a.focus(),!1):void 0})},h.fn.show=function(){var c=this,h=c.menu;if(c.rendered||c._render(),!c.isShowing){var g=c.$panel;g.show(),c._position(),c.isShowing=!0,h.activeStyle(!0),a.w3cRange?c.focusFirstInput():a.placeholderForIE8(g)}},h.fn.hide=function(){var a=this,c=a.menu;if(a.isShowing){var h=a.$panel;h.hide(),a.isShowing=!1,c.activeStyle(!1)}}}),c(function(a){var c=function(a,c,h){this.editor=a,this.menu=c,this.$content=h.$content,this.init()};c.fn=c.prototype,a.Modal=c}),c(function(a,c){var h=a.Modal;h.fn.init=function(){var a=this;a.initDom(),a.initHideEvent()},h.fn.initDom=function(){var a=this,h=a.$content,g=c('<div class="wangEditor-modal"></div>'),v=c('<div class="wangEditor-modal-close"><i class="wangeditor-menu-img-cancel-circle"></i></div>');g.append(v),g.append(h),a.$modal=g,a.$close=v},h.fn.initHideEvent=function(){var h=this,g=h.$close,v=h.$modal.get(0);g.click(function(){h.hide()}),a.$body.on("click",function(e){if(h.isShowing){var a,g=e.target,w=h.menu;w&&(a=w.selected?w.$domSelected.get(0):w.$domNormal.get(0),a===g||c.contains(a,g))||v===g||c.contains(v,g)||h.hide()}})}}),c(function(a){var c=a.Modal;c.fn._render=function(){var c=this,h=c.editor,g=c.$modal;g.css("z-index",h.config.zindex+10+""),a.$body.append(g),c.rendered=!0},c.fn._position=function(){var c=this,h=c.$modal,g=h.offset().top,v=h.outerWidth(),w=h.outerHeight(),y=0-v/2,b=0-w/2,E=a.$window.scrollTop();w/2>g&&(b=0-g),h.css({"margin-left":y+"px","margin-top":b+E+"px"})},c.fn.show=function(){var a=this,c=a.menu;if(a.rendered||a._render(),!a.isShowing){a.isShowing=!0;var h=a.$modal;h.show(),a._position(),c&&c.activeStyle(!0)}},c.fn.hide=function(){var a=this,c=a.menu;if(a.isShowing){a.isShowing=!1;var h=a.$modal;h.hide(),c&&c.activeStyle(!1)}}}),c(function(a){var c=function(a){this.editor=a,this.init()};c.fn=c.prototype,a.Txt=c}),c(function(a,c){var h=a.Txt;h.fn.init=function(){var a,h=this,g=h.editor,v=g.$valueContainer,w=g.getInitValue();"DIV"===v.get(0).nodeName?(a=v,a.addClass("wangEditor-txt"),a.attr("contentEditable","true")):a=c('<div class="wangEditor-txt" contentEditable="true">'+w+"</div>"),g.ready(function(){h.insertEmptyP()}),h.$txt=a,h.contentEmptyHandle(),h.bindEnterForDiv(),h.bindEnterForText(),h.bindTabEvent(),h.bindPasteFilter(),h.bindFormatText(),h.bindHtml()},h.fn.contentEmptyHandle=function(){var a,h=this,g=h.editor,v=h.$txt;v.on("keydown",function(e){if(8===e.keyCode){var a=c.trim(v.html().toLowerCase());return"<p><br></p>"===a?void e.preventDefault():void 0}}),v.on("keyup",function(e){if(8===e.keyCode){var h=c.trim(v.html().toLowerCase());h&&"<br>"!==h||(a=c("<p><br/></p>"),v.html(""),v.append(a),g.restoreSelectionByElem(a.get(0)))}})},h.fn.bindEnterForDiv=function(){function h(){if(g){var a=c("<p>"+g.html()+"</p>");g.after(a),g.remove()}}var g,v=(a.config.legalTags,this),w=v.editor,y=v.$txt;y.on("keydown keyup",function(e){if(13===e.keyCode){var a,v,y=w.getRangeElem(),b=w.getLegalTags(y);if(!b){if(b=w.getSelfOrParentByName(y,"div"),!b)return;a=c(b),"keydown"===e.type&&(g=a,setTimeout(h,0)),"keyup"===e.type&&(v=c("<p>"+a.html()+"</p>"),a.after(v),a.remove(),w.restoreSelectionByElem(v.get(0),"start"))}}})},h.fn.bindEnterForText=function(){var a,c=this,h=c.$txt;h.on("keyup",function(e){13===e.keyCode&&(a||(a=function(){c.wrapImgAndText()}),setTimeout(a))})},h.fn.bindTabEvent=function(){var a=this,c=a.editor,h=a.$txt;h.on("keydown",function(e){9===e.keyCode&&c.queryCommandSupported("insertHtml")&&c.command(e,"insertHtml","&nbsp;&nbsp;&nbsp;&nbsp;")})},h.fn.bindPasteFilter=function(){function a(v){if(v&&v.nodeType&&v.nodeName){var w,b,E=v.nodeName.toLowerCase(),C=v.nodeType;if(3===C||1===C){if(w=c(v),"div"===E)return b=[],c.each(v.childNodes,function(a,c){b.push(c)}),void c.each(b,function(){a(this)});if(k.indexOf(E)>=0)y+=h(v);else if(3===C)y+="<p>"+v.textContent+"</p>";else if("br"===E)y+="<br/>";else{if(["meta","style","script","object","form","iframe","hr"].indexOf(E)>=0)return;w=c(g(v)),y+=c("<div>").append(w.clone()).html()}}}}function h(a){var h,v=a.nodeName.toLowerCase(),w="",y="";return["blockquote"].indexOf(v)>=0?(h=c(a),"<"+v+">"+h.text()+"</"+v+">"):["p","h1","h2","h3","h4","h5"].indexOf(v)>=0?(a=g(a),h=c(a),w=h.html(),w=w.replace(/<.*?>/gi,function(a){return"</a>"===a||0===a.indexOf("<a ")||0===a.indexOf("<img ")?a:""}),"<"+v+">"+w+"</"+v+">"):["ul","ol"].indexOf(v)>=0?(h=c(a),h.children().each(function(){var a=c(g(this)),h=a.html();h=h.replace(/<.*?>/gi,function(a){return"</a>"===a||0===a.indexOf("<a ")||0===a.indexOf("<img ")?a:""}),y+="<li>"+h+"</li>"}),"<"+v+">"+y+"</"+v+">"):(h=c(g(a)),c("<div>").append(h).html())}function g(a){var h=a.attributes||[],v=[],w=["href","target","src","alt","rowspan","colspan"];c.each(h,function(a,c){c&&2===c.nodeType&&v.push(c.nodeName)}),c.each(v,function(c,h){w.indexOf(h)<0&&a.removeAttribute(h)});var y=a.childNodes;return y.length&&c.each(y,function(a,c){g(c)}),a}var v=this,w=v.editor,y="",b=v.$txt,E=w.config.legalTags,k=E.split(",");b.on("paste",function(e){if(w.config.pasteFilter){var h=w.getRangeElem().nodeName;if("TD"!==h&&"TH"!==h){y="";var g,b,E,k=e.clipboardData||e.originalEvent.clipboardData,C=window.clipboardData;if(w.config.pasteText){if(k&&k.getData)g=k.getData("text/plain");else{if(!C||!C.getData)return;g=C.getData("text")}g&&(y="<p>"+g+"</p>")}else if(k&&k.getData)g=k.getData("text/html"),E=g.split("</html>"),2===E.length&&(g=E[0]),g?(b=c("<div>"+g+"</div>"),a(b.get(0))):(g=k.getData("text/plain"),g&&(g=g.replace(/[ ]/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>"),y="<p>"+g+"</p>",y=y.replace(/<p>(https?:\/\/.*?)<\/p>/gi,function(a,c){return'<p><a href="'+c+'" target="_blank">'+c+"</p>"})));else{if(!C||!C.getData)return;if(y=C.getData("text"),!y)return;y="<p>"+y+"</p>",y=y.replace(new RegExp("\n","g"),"</p><p>")}y&&(w.command(e,"insertHtml",y),v.clearEmptyOrNestP())}}})},h.fn.bindFormatText=function(){var h=this,g=(h.editor,h.$txt),v=a.config.legalTags,w=v.split(","),y=(w.length,[]);c.each(w,function(a,c){var h=">\\s*<("+c+")>";y.push(new RegExp(h,"ig"))}),y.push(new RegExp(">\\s*<(li)>","ig")),y.push(new RegExp(">\\s*<(tr)>","ig")),y.push(new RegExp(">\\s*<(code)>","ig")),g.formatText=function(){var a=c("<div>"),h=g.html();return h=h.replace(/\s*</gi,"<"),c.each(y,function(a,c){c.test(h)&&(h=h.replace(c,function(a,c){return">\n<"+c+">"}))}),a.html(h),a.text()}},h.fn.bindHtml=function(){var a=this,h=a.editor,g=a.$txt,v=h.$valueContainer,w=h.valueNodeName;g.html=function(a){var h;return"div"===w&&(h=c.fn.html.call(g,a)),void 0===a?(h=c.fn.html.call(g),h=h.replace(/(href|src)\=\"(.*)\"/gim,function(a,c,h){return c+'="'+h.replace("&amp;","&")+'"'})):(h=c.fn.html.call(g,a),v.val(a)),void 0===a?h:void g.change()}}}),c(function(a,c){var h=a.Txt,g="propertychange change click keyup input paste";h.fn.render=function(){var a=this.$txt,c=this.editor.$editorContainer;c.append(a)},h.fn.initHeight=function(){var a=this.editor,c=this.$txt,h=a.$valueContainer.height(),g=a.menuContainer.height(),v=h-g;v=50>v?50:v,c.height(v),a.valueContainerHeight=h,this.initMaxHeight(v,g)},h.fn.initMaxHeight=function(h,g){var v=this.editor,w=v.menuContainer.$menuContainer,y=this.$txt,b=c("<div>");if(window.getComputedStyle&&"max-height"in window.getComputedStyle(y.get(0))){var E=parseInt(v.$valueContainer.css("max-height"));if(isNaN(E))return;if(v.menus.fullscreen)return void a.warn("max-height和『全屏』菜单一起使用时，会有一些问题尚未解决，请暂时不要两个同时使用");v.useMaxHeight=!0,b.css({"max-height":E-g+"px","overflow-y":"auto"}),y.css({height:"auto","overflow-y":"visible","min-height":h+"px"}),b.on("scroll",function(){y.parent().scrollTop()>10?w.addClass("wangEditor-menu-shadow"):w.removeClass("wangEditor-menu-shadow")}),y.wrap(b)}},h.fn.saveSelectionEvent=function(){function a(){y.saveSelection()}function c(){Date.now()-b<100||(b=Date.now(),a())}function h(){v&&clearTimeout(v),v=setTimeout(a,300)}var v,w=this.$txt,y=this.editor,b=Date.now();w.on(g+" focus blur",function(){c(),h()}),w.on("mousedown",function(){w.on("mouseleave.saveSelection",function(){c(),h(),y.updateMenuStyle()})}).on("mouseup",function(){w.off("mouseleave.saveSelection")})},h.fn.updateValueEvent=function(){function a(){var a=v.html();h!==a&&(w.onchange&&"function"==typeof w.onchange&&w.onchange.call(w),w.updateValue(),h=a)}var c,h,v=this.$txt,w=this.editor;v.on(g,function(){null==h&&(h=v.html()),c&&clearTimeout(c),c=setTimeout(a,100)})},h.fn.updateMenuStyleEvent=function(){var a=this.$txt,c=this.editor;a.on(g,function(){c.updateMenuStyle()})},h.fn.insertEmptyP=function(){var a=this.$txt,h=a.children();return 0===h.length?void a.append(c("<p><br></p>")):void("<br>"!==c.trim(h.last().html()).toLowerCase()&&a.append(c("<p><br></p>")))},h.fn.wrapImgAndText=function(){var i,a,h=this.$txt,g=h.children("img"),v=h[0],w=v.childNodes,y=w.length;for(g.length&&g.each(function(){c(this).wrap("<p>")}),i=0;y>i;i++)a=w[i],3===a.nodeType&&a.textContent&&c.trim(a.textContent)&&c(a).wrap("<p>")},h.fn.clearEmptyOrNestP=function(){var a=this.$txt,h=a.find("p");h.each(function(){var a,h=c(this),g=h.children(),v=g.length,w=c.trim(h.html());return w?void(1===v&&(a=g.first(),a.get(0)&&"P"===a.get(0).nodeName&&h.html(a.html()))):void h.remove()})},h.fn.scrollTop=function(a){var c=this,h=c.editor,g=c.$txt;return h.useMaxHeight?g.parent().scrollTop(a):g.scrollTop(a)},h.fn.showHeightOnHover=function(){function a(a){E||(v.append(b),E=!0);{var c=(y.position().top,y.outerHeight(),a.height()),h=a.position().top,g=parseInt(a.css("margin-top"),10),k=parseInt(a.css("padding-top"),10),C=parseInt(a.css("margin-bottom"),10),$=parseInt(a.css("padding-bottom"),10);h+w.height()}b.css({height:c+k+g+$+C,top:h+w.height()})}function h(){E&&(b.remove(),E=!1)}var g=this.editor,v=g.$editorContainer,w=g.menuContainer,y=this.$txt,b=c('<i class="height-tip"><i>'),E=!1;y.on("mouseenter","ul,ol,blockquote,p,h1,h2,h3,h4,h5,table,pre",function(e){a(c(e.currentTarget))}).on("mouseleave",function(){h()})}}),c(function(a,c){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var i=0,c=this.length;c>i;i++)if(this[i]===a)return i;return-1},Array.prototype.lastIndexOf=function(a){var c=this.length;for(c-=1;c>=0;c--)if(this[c]===a)return c;return-1}),Date.now||(Date.now=function(){return(new Date).valueOf()});var h=window.console,g=function(){};c.each(["info","log","warn","error"],function(c,v){a[v]=null==h?g:function(c){a.config&&a.config.printLog&&h[v]("wangEditor提示: "+c)}}),a.random=function(){return Math.random().toString().slice(2)},a.placeholder="placeholder"in document.createElement("input"),a.placeholderForIE8=function(h){a.placeholder||h.find("input[placeholder]").each(function(){var a=c(this),h=a.attr("placeholder");""===a.val()&&(a.css("color","#666"),a.val(h),a.on("focus.placeholder click.placeholder",function(){a.val(""),a.css("color","#333"),a.off("focus.placeholder click.placeholder")}))})}}),c(function(a){a.langs={},a.langs["zh-cn"]={bold:"粗体",underline:"下划线",italic:"斜体",forecolor:"文字颜色",bgcolor:"背景色",strikethrough:"删除线",eraser:"清空格式",source:"源码",quote:"引用",fontfamily:"字体",fontsize:"字号",head:"标题",orderlist:"有序列表",unorderlist:"无序列表",alignleft:"左对齐",aligncenter:"居中",alignright:"右对齐",link:"链接",text:"文本",submit:"提交",cancel:"取消",unlink:"取消链接",table:"表格",emotion:"表情",img:"图片",uploadImg:"上传图片",linkImg:"网络图片",video:"视频",width:"宽",height:"高",location:"位置",loading:"加载中",searchlocation:"搜索位置",dynamicMap:"动态地图",clearLocation:"清除位置",langDynamicOneLocation:"动态地图只能显示一个位置",insertcode:"插入代码",undo:"撤销",redo:"重复",fullscreen:"全屏",openLink:"打开链接"},a.langs.en={bold:"Bold",underline:"Underline",italic:"Italic",forecolor:"Color",bgcolor:"Backcolor",strikethrough:"Strikethrough",eraser:"Eraser",source:"Codeview",quote:"Quote",fontfamily:"Font family",fontsize:"Font size",head:"Head",orderlist:"Ordered list",unorderlist:"Unordered list",alignleft:"Align left",aligncenter:"Align center",alignright:"Align right",link:"Insert link",text:"Text",submit:"Submit",cancel:"Cancel",unlink:"Unlink",table:"Table",emotion:"Emotions",img:"Image",uploadImg:"Upload",linkImg:"Link",video:"Video",width:"width",height:"height",location:"Location",loading:"Loading",searchlocation:"search",dynamicMap:"Dynamic",clearLocation:"Clear",langDynamicOneLocation:"Only one location in dynamic map",insertcode:"Insert Code",undo:"Undo",redo:"Redo",fullscreen:"Full screnn",openLink:"open link"}}),c(function(a){a.config={},a.config.zindex=1e4,a.config.printLog=!0,a.config.menuFixed=0,a.config.jsFilter=!0,a.config.legalTags="p,h1,h2,h3,h4,h5,h6,blockquote,table,ul,ol,pre",a.config.lang=a.langs["zh-cn"],a.config.menus=["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","video","location","insertcode","|","undo","redo","fullscreen"],a.config.colors={"#880000":"暗红色","#800080":"紫色","#ff0000":"红色","#ff00ff":"鲜粉色","#000080":"深蓝色","#0000ff":"蓝色","#00ffff":"湖蓝色","#008080":"蓝绿色","#008000":"绿色","#808000":"橄榄色","#00ff00":"浅绿色","#ffcc00":"橙黄色","#808080":"灰色","#c0c0c0":"银色","#000000":"黑色","#ffffff":"白色"},a.config.familys=["宋体","黑体","楷体","微软雅黑","Arial","Verdana","Georgia","Times New Roman","Microsoft JhengHei","Trebuchet MS","Courier New","Impact","Comic Sans MS","Consolas"],a.config.fontsizes={1:"12px",2:"13px",3:"16px",4:"18px",5:"24px",6:"32px",7:"48px"},a.config.emotionsShow="icon",a.config.emotions={weibo:{title:"微博表情",data:[{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",value:"[草泥马]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",value:"[神马]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",value:"[浮云]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_thumb.gif",value:"[给力]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/f2/wg_thumb.gif",value:"[围观]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/70/vw_thumb.gif",value:"[威武]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/6e/panda_thumb.gif",value:"[熊猫]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/81/rabbit_thumb.gif",value:"[兔子]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/otm_thumb.gif",value:"[奥特曼]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/15/j_thumb.gif",value:"[囧]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/89/hufen_thumb.gif",value:"[互粉]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c4/liwu_thumb.gif",value:"[礼物]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/ac/smilea_thumb.gif",value:"[呵呵]"},{icon:"../../img.t.sinajs.cn/t35/style/images/common/face/ext/normal/0b/tootha_thumb.gif",value:"[哈哈]"}]}},a.config.mapAk="TVhjYjq1ICT2qqL5LdS8mwas",a.config.uploadImgUrl="",a.config.uploadTimeout=2e4,a.config.uploadImgFns={},a.config.customUpload=!1,a.config.uploadParams={},a.config.uploadHeaders={},a.config.withCredentials=!0,a.config.hideLinkImg=!1,a.config.pasteFilter=!0,a.config.pasteText=!1,a.config.codeDefaultLang="javascript"
}),c(function(a){a.UI={},a.UI.menus={"default":{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-command"></i></a>',selected:".selected"},bold:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-bold"></i></a>',selected:".selected"},underline:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-underline"></i></a>',selected:".selected"},italic:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-italic"></i></a>',selected:".selected"},forecolor:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-pencil"></i></a>',selected:".selected"},bgcolor:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-brush"></i></a>',selected:".selected"},strikethrough:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-strikethrough"></i></a>',selected:".selected"},eraser:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-eraser"></i></a>',selected:".selected"},quote:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-quotes-left"></i></a>',selected:".selected"},source:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-code"></i></a>',selected:".selected"},fontfamily:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-font2"></i></a>',selected:".selected"},fontsize:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-text-height"></i></a>',selected:".selected"},head:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-header"></i></a>',selected:".selected"},orderlist:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-list-numbered"></i></a>',selected:".selected"},unorderlist:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-list-bullet"></i></a>',selected:".selected"},alignleft:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-left"></i></a>',selected:".selected"},aligncenter:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-center"></i></a>',selected:".selected"},alignright:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-right"></i></a>',selected:".selected"},link:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-link"></i></a>',selected:".selected"},unlink:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-unlink"></i></a>',selected:".selected"},table:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-table"></i></a>',selected:".selected"},emotion:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-happy"></i></a>',selected:".selected"},img:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-picture"></i></a>',selected:".selected"},video:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-play"></i></a>',selected:".selected"},location:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-location"></i></a>',selected:".selected"},insertcode:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-terminal"></i></a>',selected:".selected"},undo:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-ccw"></i></a>',selected:".selected"},redo:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-cw"></i></a>',selected:".selected"},fullscreen:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-enlarge2"></i></a>',selected:'<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-shrink2"></i></a>'}}}),c(function(a,c){a.fn.initDefaultConfig=function(){var h=this;h.config=c.extend({},a.config),h.UI=c.extend({},a.UI)}}),c(function(a,c){a.fn.addEditorContainer=function(){this.$editorContainer=c('<div class="wangEditor-container"></div>')}}),c(function(a){a.fn.addTxt=function(){var c=this,h=new a.Txt(c);c.txt=h}}),c(function(a){a.fn.addMenuContainer=function(){var c=this;c.menuContainer=new a.MenuContainer(c)}}),c(function(a,c){a.createMenuFns=[],a.createMenu=function(c){a.createMenuFns.push(c)},a.fn.addMenus=function(){function h(a){return v.indexOf(a)>=0?!0:!1}var g=this,v=g.config.menus;c.each(a.createMenuFns,function(a,c){c.call(g,h)})}}),c(function(a){a.createMenu(function(c){var h="bold";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.bold,commandName:"Bold"});w.clickEventSelected=function(e){var a=g.isRangeEmpty();a?g.commandForElem("b,strong,h1,h2,h3,h4,h5",e,"Bold"):g.command(e,"Bold")},g.menus[h]=w}})}),c(function(a){a.createMenu(function(c){var h="underline";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.underline,commandName:"Underline"});w.clickEventSelected=function(e){var a=g.isRangeEmpty();a?g.commandForElem("u,a",e,"Underline"):g.command(e,"Underline")},g.menus[h]=w}})}),c(function(a){a.createMenu(function(c){var h="italic";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.italic,commandName:"Italic"});w.clickEventSelected=function(e){var a=g.isRangeEmpty();a?g.commandForElem("i",e,"Italic"):g.command(e,"Italic")},g.menus[h]=w}})}),c(function(a,c){a.createMenu(function(h){var g="forecolor";if(h(g)){var v=this,w=v.config.lang,y=v.config.colors,b=new a.Menu({editor:v,id:g,title:w.forecolor}),E=c("<div></div>");c.each(y,function(a,c){E.append(['<a href="#" class="color-item"','    title="'+c+'" commandValue="'+a+'" ','    style="color: '+a+'" ','><i class="wangeditor-menu-img-pencil"></i></a>'].join(""))}),E.on("click","a[commandValue]",function(e){var a=c(this),h=a.attr("commandValue");b.selected&&v.isRangeEmpty()?v.commandForElem("font[color]",e,"forecolor",h):v.command(e,"forecolor",h)}),b.dropPanel=new a.DropPanel(v,b,{$content:E,width:125}),b.updateSelectedEvent=function(){var a=v.getRangeElem();return a=v.getSelfOrParentByName(a,"font[color]"),a?!0:!1},v.menus[g]=b}})}),c(function(a,c){a.createMenu(function(h){function g(a){var c;return a&&a.style&&null!=a.style.cssText&&(c=a.style.cssText,c&&c.indexOf("background-color:")>=0)?!0:!1}var v="bgcolor";if(h(v)){var w=this,y=w.config.lang,b=w.config.colors,E=new a.Menu({editor:w,id:v,title:y.bgcolor}),k=c("<div></div>");c.each(b,function(a,c){k.append(['<a href="#" class="color-item"','    title="'+c+'" commandValue="'+a+'" ','    style="color: '+a+'" ','><i class="wangeditor-menu-img-brush"></i></a>'].join(""))}),k.on("click","a[commandValue]",function(e){var a=c(this),h=a.attr("commandValue");E.selected&&w.isRangeEmpty()?w.commandForElem({selector:"span,font",check:g},e,"BackColor",h):w.command(e,"BackColor",h)}),E.dropPanel=new a.DropPanel(w,E,{$content:k,width:125}),E.updateSelectedEvent=function(){var a=w.getRangeElem();return a=w.getSelfOrParentByName(a,"span,font",g),a?!0:!1},w.menus[v]=E}})}),c(function(a){a.createMenu(function(c){var h="strikethrough";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.strikethrough,commandName:"StrikeThrough"});w.clickEventSelected=function(e){var a=g.isRangeEmpty();a?g.commandForElem("strike",e,"StrikeThrough"):g.command(e,"StrikeThrough")},g.menus[h]=w}})}),c(function(a,c){a.createMenu(function(h){var g="eraser";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.eraser,commandName:"RemoveFormat"});y.clickEvent=function(e){function a(){var a,h,g,v,y,b,E,k=this;a=k.getRangeElem(),v=k.getSelfOrParentByName(a,"blockquote"),v&&(y=c(v),w=c("<p>"+y.text()+"</p>"),y.after(w).remove()),h=k.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5"),h&&(g=c(h),w=c("<p>"+g.text()+"</p>"),g.after(w).remove()),b=k.getSelfOrParentByName(a,"ul,ol"),b&&(E=c(b),w=c("<p>"+E.text()+"</p>"),E.after(w).remove())}function h(){var a=this;w&&a.restoreSelectionByElem(w.get(0))}var g=v.isRangeEmpty();if(!g)return void v.command(e,"RemoveFormat");var w;v.customCommand(e,a,h)},v.menus[g]=y}})}),c(function(a,c){a.createMenu(function(h){function g(){var a=E.$codeTextarea,h=y.txt.$txt,g=c.trim(a.val());g||(g="<p><br></p>"),y.config.jsFilter&&(g=g.replace(/<script[\s\S]*?<\/script>/gi,""));try{h.html(g)}catch(ex){}}var v="source";if(h(v)){var w,y=this,b=y.config.lang,E=new a.Menu({editor:y,id:v,title:b.source});E.isShowCode=!1,E.clickEvent=function(){var a=this,h=a.editor,v=h.txt.$txt,y=v.outerHeight(),b=v.height();a.$codeTextarea||(a.$codeTextarea=c('<textarea class="code-textarea"></textarea>'));var k=a.$codeTextarea;k.css({height:b,"margin-top":y-b}),k.val(v.html()),k.on("change",function(){g()}),v.after(k).hide(),k.show(),E.isShowCode=!0,this.updateSelected(),h.disableMenusExcept("source"),w=v.html()},E.clickEventSelected=function(){var a=this,c=a.editor,h=c.txt.$txt,v=a.$codeTextarea;v&&(g(),v.after(h).hide(),h.show(),E.isShowCode=!1,this.updateSelected(),c.enableMenusExcept("source"),h.html()!==w&&c.onchange&&"function"==typeof c.onchange&&c.onchange.call(c))},E.updateSelectedEvent=function(){return this.isShowCode},y.menus[v]=E}})}),c(function(a,c){a.createMenu(function(h){var g="quote";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.quote,commandName:"formatBlock",commandValue:"blockquote"});y.clickEvent=function(e){function a(){y=c("<p>"+g.text()+"</p>"),g.after(y).remove(),y.wrap("<blockquote>")}function h(){var a=this;y&&a.restoreSelectionByElem(y.get(0))}var g,w=v.getRangeElem();if(!w)return void e.preventDefault();var y,b=v.getSelfOrParentByName(w,"blockquote");return b?void e.preventDefault():(w=v.getLegalTags(w),g=c(w),g.text()?w?void v.customCommand(e,a,h):void v.command(e,"formatBlock","blockquote"):void 0)},y.clickEventSelected=function(e){function a(){var a,h;return a=c(w),h=a.children(),h.length?(h.each(function(){var h=c(this);a.after("P"===h.get(0).nodeName?h:"<p>"+h.text()+"</p>"),y=h}),void a.remove()):void 0}function h(){var a=this;y&&a.restoreSelectionByElem(y.get(0))}var g,w,y;return g=v.getRangeElem(),(w=v.getSelfOrParentByName(g,"blockquote"))?void v.customCommand(e,a,h):void e.preventDefault()},y.updateSelectedEvent=function(){var a,c=this,h=c.editor;return a=h.getRangeElem(),a=h.getSelfOrParentByName(a,"blockquote"),a?!0:!1},v.menus[g]=y,v.ready(function(){var a=this,h=a.txt.$txt,g=!1;h.on("keydown",function(e){if(13!==e.keyCode)return void(g=!1);var h=a.getRangeElem();if(h=a.getSelfOrParentByName(h,"blockquote"),!h)return void(g=!1);if(!g)return void(g=!0);var v=a.getRangeElem(),w=c(v);w.length&&w.parent().after(w),a.restoreSelectionByElem(v,"start"),g=!1,e.preventDefault()})}),v.ready(function(){function a(){g&&g.remove()}function h(){if(g){var a=g.prev();a.length?v.restoreSelectionByElem(a.get(0)):v.initSelection()}}var g,v=this,w=v.txt.$txt;w.on("keydown",function(e){if(8===e.keyCode){var w=v.getRangeElem();if(w=v.getSelfOrParentByName(w,"blockquote")){g=c(w);var y=g.text();y||v.customCommand(e,a,h)}}})})}})}),c(function(a,c){a.createMenu(function(h){var g="fontfamily";if(h(g)){var v=this,w=v.config.lang,y=v.config.familys,b=new a.Menu({editor:v,id:g,title:w.fontfamily,commandName:"fontName"}),E={};c.each(y,function(a,c){E[c]=c});var k='<span style="font-family:{#commandValue};">{#title}</span>';b.dropList=new a.DropList(v,b,{data:E,tpl:k,selectorForELemCommand:"font[face]"}),b.updateSelectedEvent=function(){var a=v.getRangeElem();return a=v.getSelfOrParentByName(a,"font[face]"),a?!0:!1},v.menus[g]=b}})}),c(function(a){a.createMenu(function(c){var h="fontsize";if(c(h)){var g=this,v=g.config.lang,w=g.config.fontsizes,y=new a.Menu({editor:g,id:h,title:v.fontsize,commandName:"fontSize"}),b=w,E='<span style="font-size:{#title};">{#title}</span>';y.dropList=new a.DropList(g,y,{data:b,tpl:E,selectorForELemCommand:"font[size]"}),y.updateSelectedEvent=function(){var a=g.getRangeElem();return a=g.getSelfOrParentByName(a,"font[size]"),a?!0:!1},g.menus[h]=y}})}),c(function(a){a.createMenu(function(c){function h(e){y.queryCommandState("InsertOrderedList")?(w=!0,y.command(e,"InsertOrderedList")):w=!1}function g(e){w&&y.command(e,"InsertOrderedList")}var v="head";if(c(v)){var w,y=this,b=y.config.lang,E=new a.Menu({editor:y,id:v,title:b.head,commandName:"formatBlock"}),k={"<h1>":"标题1","<h2>":"标题2","<h3>":"标题3","<h4>":"标题4","<h5>":"标题5"},C="{#commandValue}{#title}";E.dropList=new a.DropList(y,E,{data:k,tpl:C,beforeEvent:h,afterEvent:g}),E.updateSelectedEvent=function(){var a=y.getRangeElem();return a=y.getSelfOrParentByName(a,"h1,h2,h3,h4,h5"),a?!0:!1},y.menus[v]=E}})}),c(function(a){a.createMenu(function(c){var h="unorderlist";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.unorderlist,commandName:"InsertUnorderedList"});g.menus[h]=w}})}),c(function(a){a.createMenu(function(c){var h="orderlist";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.orderlist,commandName:"InsertOrderedList"});g.menus[h]=w}})}),c(function(a,c){a.createMenu(function(h){var g="alignleft";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.alignleft,commandName:"JustifyLeft"});y.updateSelectedEvent=function(){var a=v.getRangeElem();return a=v.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,li",function(a){var h;return a&&a.style&&null!=a.style.cssText&&(h=a.style.cssText,h&&/text-align:\s*left;/.test(h))?!0:"left"===c(a).attr("align")?!0:!1}),a?!0:!1},v.menus[g]=y}})}),c(function(a,c){a.createMenu(function(h){var g="aligncenter";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.aligncenter,commandName:"JustifyCenter"});y.updateSelectedEvent=function(){var a=v.getRangeElem();return a=v.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,li",function(a){var h;return a&&a.style&&null!=a.style.cssText&&(h=a.style.cssText,h&&/text-align:\s*center;/.test(h))?!0:"center"===c(a).attr("align")?!0:!1}),a?!0:!1},v.menus[g]=y}})}),c(function(a,c){a.createMenu(function(h){var g="alignright";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.alignright,commandName:"JustifyRight"});y.updateSelectedEvent=function(){var a=v.getRangeElem();return a=v.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,li",function(a){var h;return a&&a.style&&null!=a.style.cssText&&(h=a.style.cssText,h&&/text-align:\s*right;/.test(h))?!0:"right"===c(a).attr("align")?!0:!1}),a?!0:!1},v.menus[g]=y}})}),c(function(a,c){a.createMenu(function(h){var g="link";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.link}),b=c("<div></div>"),E=c('<div style="margin:20px 10px;" class="clearfix"></div>'),k=E.clone(),C=E.clone().css("margin","0 10px"),$=c('<input type="text" class="block" placeholder="'+w.text+'"/>'),S=c('<input type="text" class="block" placeholder="'+w.link+'"/>'),M=c('<button class="right">'+w.submit+"</button>"),T=c('<button class="right gray">'+w.cancel+"</button>");E.append($),k.append(S),C.append(M).append(T),b.append(E).append(k).append(C),y.dropPanel=new a.DropPanel(v,y,{$content:b,width:300}),y.clickEvent=function(){var a=this,c=a.dropPanel;if(c.isShowing)return void c.hide();$.val(""),S.val("http://");var h="",g=v.getRangeElem();g=v.getSelfOrParentByName(g,"a"),g&&(h=g.href||"");var w="",y=v.isRangeEmpty();y?g&&(w=g.textContent||g.innerHTML):w=v.getRangeText()||"",h&&S.val(h),w&&$.val(w),y?$.removeAttr("disabled"):$.attr("disabled",!0),c.show()},y.updateSelectedEvent=function(){var a=v.getRangeElem();return a=v.getSelfOrParentByName(a,"a"),a?!0:!1},T.click(function(e){e.preventDefault(),y.dropPanel.hide()}),M.click(function(e){e.preventDefault();var h,g,w,b,E,k,C=v.getRangeElem(),M=v.getSelfOrParentByName(C,"a"),T=v.isRangeEmpty(),N=v.txt.$txt,R="link"+a.random(),D=c.trim(S.val()),P=c.trim($.val());return D?(P||(P=D),void(T?M?(h=c(M),w=function(){h.attr("href",D),h.text(P)},b=function(){var a=this;a.restoreSelectionByElem(M)},v.customCommand(e,w,b)):(g='<a href="'+D+'" target="_blank">'+P+"</a>",a.userAgent.indexOf("Firefox")>0&&(g+="<span>&nbsp;</span>"),v.command(e,"insertHtml",g)):(E=N.find("a"),E.attr(R,"1"),v.command(e,"createLink",D),k=N.find("a").not("["+R+"]"),k.attr("target","_blank"),E.removeAttr(R)))):void y.dropPanel.focusFirstInput()}),v.menus[g]=y}})}),c(function(a,c){a.createMenu(function(h){var g="unlink";if(h(g)){var v=this,w=v.config.lang,y=new a.Menu({editor:v,id:g,title:w.unlink,commandName:"unLink"});y.clickEvent=function(e){function a(){b.after(E).remove()}function h(){v.restoreSelectionByElem(E.get(0))}var g=v.isRangeEmpty();if(!g)return void v.command(e,"unLink");var w=v.getRangeElem(),y=v.getSelfOrParentByName(w,"a");if(!y)return void e.preventDefault();var b=c(y),E=c("<span>"+b.text()+"</span>");v.customCommand(e,a,h)},v.menus[g]=y}})}),c(function(a,c){a.createMenu(function(h){var g="table";if(h(g)){var v,i,w,y=this,b=y.config.lang,E=new a.Menu({editor:y,id:g,title:b.table}),k=c('<div style="font-size: 14px; color: #666; text-align:right;"></div>'),C=c('<table class="choose-table" style="margin-bottom:10px;margin-top:5px;">'),$=c("<span>0</span>"),S=c("<span> 行 </span>"),M=c("<span>0</span>"),T=c("<span> 列</span>");for(i=0;15>i;i++){for(v=c('<tr index="'+(i+1)+'">'),w=0;20>w;w++)v.append(c('<td index="'+(w+1)+'">'));C.append(v)}k.append(C),k.append($).append(S).append(M).append(T),C.on("mouseenter","td",function(e){var a=c(e.currentTarget),h=a.attr("index"),g=a.parent(),v=g.attr("index");$.text(v),M.text(h),C.find("tr").each(function(){var a=c(this),g=a.attr("index");parseInt(g,10)<=parseInt(v,10)?a.find("td").each(function(){var a=c(this),g=a.attr("index");parseInt(g,10)<=parseInt(h,10)?a.addClass("active"):a.removeClass("active")}):a.find("td").removeClass("active")})}).on("mouseleave",function(){C.find("td").removeClass("active"),$.text(0),M.text(0)}),C.on("click","td",function(e){var i,a,h=c(e.currentTarget),g=h.attr("index"),v=h.parent(),w=v.attr("index"),b=parseInt(w,10),E=parseInt(g,10),k="<table>";for(i=0;b>i;i++){for(k+="<tr>",a=0;E>a;a++)k+="<td><span>&nbsp;</span></td>";k+="</tr>"}k+="</table>",y.command(e,"insertHtml",k)}),E.dropPanel=new a.DropPanel(y,E,{$content:k,width:262}),y.menus[g]=E}})}),c(function(a,c){a.createMenu(function(h){function g(a,h){c.each(a,function(a,g){var v=g.icon||g.url,y=g.value||g.title,b="icon"===k?v:y,E=c('<a href="#" commandValue="'+b+'"></a>'),C=c("<img>");C.attr("_src",v),E.append(C),h.append(E),w.emotionUrls.push(v)})}var v="emotion";if(h(v)){var w=this,y=w.config,b=y.lang,E=y.emotions,k=y.emotionsShow;w.emotionUrls=[];var C=new a.Menu({editor:w,id:v,title:b.emotion}),$=c('<div class="panel-tab"></div>'),S=c('<div class="tab-container"></div>'),M=c('<div class="content-container emotion-content-container"></div>');c.each(E,function(h,v){var w=v.title,y=v.data;a.log("正在处理 "+w+" 表情的数据...");var b=c('<a href="#">'+w+" </a>");S.append(b);var E=c('<div class="content"></div>');if(M.append(E),b.click(function(e){S.children().removeClass("selected"),M.children().removeClass("selected"),E.addClass("selected"),b.addClass("selected"),e.preventDefault()}),"string"==typeof y)a.log("将通过 "+y+" 地址ajax下载表情包"),c.get(y,function(h){h=c.parseJSON(h),a.log("下载完毕，得到 "+h.length+" 个表情"),g(h,E)});else{if(!(Object.prototype.toString.call(y).toLowerCase().indexOf("array")>0))return void a.error("data 数据格式错误，请修改为正确格式，参考文档："+a.docsite);g(y,E)}}),$.append(S).append(M),S.children().first().addClass("selected"),M.children().first().addClass("selected"),M.on("click","a[commandValue]",function(e){var a=c(e.currentTarget),h=a.attr("commandValue");"icon"===k?w.command(e,"InsertImage",h):w.command(e,"insertHtml","<span>"+h+"</span>"),e.preventDefault()}),C.dropPanel=new a.DropPanel(w,C,{$content:$,width:350}),C.clickEvent=function(){var h=this,g=h.dropPanel;return g.isShowing?void g.hide():(g.show(),void(h.imgLoaded||(M.find("img").each(function(){var h=c(this),g=h.attr("_src");h.on("error",function(){a.error("加载不出表情图片 "+g)}),h.attr("src",g),h.removeAttr("_src")}),h.imgLoaded=!0)))},w.menus[v]=C}})}),c(function(a,c){function h(a,h,g){function v(){b.val("")}var w=a.config.lang,y=c('<div style="margin:20px 10px 10px 10px;"></div>'),b=c('<input type="text" class="block" placeholder="http://"/>');y.append(b);var E=c('<button class="right">'+w.submit+"</button>"),k=c('<button class="right gray">'+w.cancel+"</button>");g.append(y).append(E).append(k),k.click(function(e){e.preventDefault(),h.dropPanel.hide()}),E.click(function(e){e.preventDefault();var h=c.trim(b.val());if(!h)return void b.focus();var g='<img style="max-width:100%;" src="'+h+'"/>';a.command(e,"insertHtml",g,v)})}a.createMenu(function(g){function v(){T.click(function(e){S.children().removeClass("selected"),M.children().removeClass("selected"),R.addClass("selected"),T.addClass("selected"),e.preventDefault()}),N.click(function(e){S.children().removeClass("selected"),M.children().removeClass("selected"),D.addClass("selected"),N.addClass("selected"),e.preventDefault(),a.placeholder&&D.find("input[type=text]").focus()}),T.click()}function w(){S.remove(),R.remove(),D.addClass("selected")}function y(){S.remove(),D.remove(),R.addClass("selected")}var b="img";if(g(b)){var E=this,k=E.config.lang,C=new a.Menu({editor:E,id:b,title:k.img}),$=c('<div class="panel-tab"></div>'),S=c('<div class="tab-container"></div>'),M=c('<div class="content-container"></div>');$.append(S).append(M);var T=c('<a href="#">'+k.uploadImg+"</a>"),N=c('<a href="#">'+k.linkImg+"</a>");S.append(T).append(N);var R=c('<div class="content"></div>');M.append(R);var D=c('<div class="content"></div>');M.append(D),h(E,C,D),C.dropPanel=new a.DropPanel(E,C,{$content:$,width:400,onRender:function(){var a=E.config.customUploadInit;a&&a.call(E)}}),E.menus[b]=C,E.ready(function(){function a(){C.dropPanel.hide()}var c=this,h=c.config,g=h.uploadImgUrl,b=h.customUpload,E=h.hideLinkImg;g||b?(c.$uploadContent=R,v(),E&&y()):w(),R.click(function(){setTimeout(a)})})}})}),c(function(a,c){a.createMenu(function(h){var g="video";if(h(g)){var v=this,w=v.config.lang,y=/^<(iframe)|(embed)/i,b=new a.Menu({editor:v,id:g,title:w.video}),E=c("<div></div>"),k=c('<div style="margin:20px 10px;"></div>'),C=c('<input type="text" class="block" placeholder=\'格式如：<iframe src="..." frameborder=0 allowfullscreen></iframe>\'/>');k.append(C);var $=c('<div style="margin:20px 10px;"></div>'),S=c('<input type="text" value="640" style="width:50px;text-align:center;"/>'),M=c('<input type="text" value="498" style="width:50px;text-align:center;"/>');$.append("<span> "+w.width+" </span>").append(S).append("<span> px &nbsp;&nbsp;&nbsp;</span>").append("<span> "+w.height+" </span>").append(M).append("<span> px </span>");var T=c("<div></div>"),N=c('<a href="../../www.kancloud.cn/wangfupeng/wangeditor2/134973" target="_blank" style="display:inline-block;margin-top:10px;margin-left:10px;color:#999;">如何复制视频链接？</a>'),R=c('<button class="right">'+w.submit+"</button>"),D=c('<button class="right gray">'+w.cancel+"</button>");T.append(N).append(R).append(D),E.append(k).append($).append(T),D.click(function(e){e.preventDefault(),C.val(""),b.dropPanel.hide()}),R.click(function(e){e.preventDefault();var a,h=c.trim(C.val()),g=parseInt(S.val()),w=parseInt(M.val()),E=c("<div>"),k="<p>{content}</p>";return h?y.test(h)?isNaN(g)||isNaN(w)?void alert("宽度或高度不是数字！"):(a=c(h),a.attr("width",g).attr("height",w),k=k.replace("{content}",E.append(a).html()),v.command(e,"insertHtml",k),void C.val("")):(alert("视频链接格式错误！"),void b.dropPanel.focusFirstInput()):void b.dropPanel.focusFirstInput()}),b.dropPanel=new a.DropPanel(v,b,{$content:E,width:400}),v.menus[g]=b}})}),c(function(a,c){var h=function(a){return"onkeyup"in a}(document.createElement("input"));a.baiduMapAk="TVhjYjq1ICT2qqL5LdS8mwas",a.numberOfLocation=0,a.createMenu(function(g){function v(){R.val("")}var w="location";if(g(w)){if(++a.numberOfLocation>1)return void a.error("目前不支持在一个页面多个编辑器上同时使用地图，可通过自定义菜单配置去掉地图菜单");var y=this,b=y.config,E=b.lang,k=b.mapAk;y.mapData={};var C=y.mapData;C.markers=[],C.mapContainerId="map"+a.random(),C.clearLocations=function(){var a=C.map;a&&(a.clearOverlays(),C.markers=[])},C.searchMap=function(){var a=C.map;if(a){var c,h,g=window.BMap,v=N.val(),w=R.val();""!==v&&(w&&""!==w||a.centerAndZoom(v,11),w&&""!==w&&(c=new g.Geocoder,c.getPoint(w,function(c){c?(a.centerAndZoom(c,13),h=new g.Marker(c),a.addOverlay(h),h.enableDragging(),C.markers.push(h)):a.centerAndZoom(v,11)},v)))}};var $=!1;window.baiduMapCallBack=function(){function c(c){var g=c.name;v.setCenter(g),N.val(g),a.placeholder&&R.focus();var w,y;h?(y=function(e){"keyup"===e.type&&13===e.keyCode&&e.preventDefault(),w&&clearTimeout(w),w=setTimeout(C.searchMap,500)},N.on("keyup change paste",y),R.on("keyup change paste",y)):(y=function(){if(!M.is(":visible"))return void clearTimeout(w);var a="",c="",h=N.val(),g=R.val();(h!==a||g!==c)&&(C.searchMap(),a=h,c=g),w&&clearTimeout(w),w=setTimeout(y,1e3)},w=setTimeout(y,1e3))}if(!$){$=!0;var g=window.BMap;C.map||(C.map=new g.Map(C.mapContainerId));var v=C.map;v.centerAndZoom(new g.Point(116.404,39.915),11),v.addControl(new g.MapTypeControl),v.setCurrentCity("北京"),v.enableScrollWheelZoom(!0);var w=new g.LocalCity;w.get(c),v.addEventListener("click",function(e){var a=new g.Marker(new g.Point(e.point.lng,e.point.lat));v.addOverlay(a),a.enableDragging(),C.markers.push(a)},!1)}},C.loadMapScript=function(){var c=document.createElement("script");c.type="text/javascript",c.src="../../https@api.map.baidu.com/api@v=2.0&ak="+k+"&s=1&callback=baiduMapCallBack";try{document.body.appendChild(c)}catch(ex){a.error("加载地图过程中发生错误")}},C.initMap=function(){window.BMap?window.baiduMapCallBack():C.loadMapScript()};var S=new a.Menu({editor:y,id:w,title:E.location});y.menus[w]=S;var M=c("<div></div>"),T=c('<div style="margin:10px 0;"></div>'),N=c('<input type="text"/>');N.css({width:"80px","text-align":"center"});var R=c('<input type="text"/>');R.css({width:"300px","margin-left":"10px"}).attr("placeholder",E.searchlocation);var D=c('<button class="right link">'+E.clearLocation+"</button>");T.append(D).append(N).append(R),M.append(T),D.click(function(e){R.val(""),R.focus(),C.clearLocations(),e.preventDefault()});var P=c('<div id="'+C.mapContainerId+'"></div>');P.css({height:"260px",width:"100%",position:"relative","margin-top":"10px",border:"1px solid #f1f1f1"});var I=c("<span>"+E.loading+"</span>");I.css({position:"absolute",width:"100px","text-align":"center",top:"45%",left:"50%","margin-left":"-50px"}),P.append(I),M.append(P);var O=c('<div style="margin:10px 0;"></div>'),L=c('<button class="right">'+E.submit+"</button>"),F=c('<button class="right gray">'+E.cancel+"</button>"),_=c('<label style="display:inline-block;margin-top:10px;color:#666;"></label>'),H=c('<input type="checkbox">');_.append(H).append('<span style="display:inline-block;margin-left:5px;">  '+E.dynamicMap+"</span>"),O.append(_).append(L).append(F),M.append(O),F.click(function(e){e.preventDefault(),v(),S.dropPanel.hide()}),L.click(function(e){e.preventDefault();var a,h,g,w=C.map,b=H.is(":checked"),k=C.markers,$=w.getCenter(),S=$.lng,M=$.lat,T=w.getZoom(),N=w.getSize(),R=N.width,D=N.height;if(h=b?"../../ueditor.baidu.com/ueditor/dialogs/map/show.html#":"http://api.map.baidu.com/staticimage?",h=h+"center="+S+","+M+"&zoom="+T+"&width="+R+"&height="+D,k.length>0&&(h+="&markers=",c.each(k,function(c,g){a=g.getPosition(),c>0&&(h+="|"),h=h+a.lng+","+a.lat})),b){if(k.length>1)return void alert(E.langDynamicOneLocation);h+="&markerStyles=l,A",g='<iframe class="ueditor_baidumap" src="{src}" frameborder="0" width="'+R+'" height="'+D+'"></iframe>',g=g.replace("{src}",h),y.command(e,"insertHtml",g,v)}else y.command(e,"insertHtml",'<img style="max-width:100%;" src="'+h+'"/>',v)}),S.dropPanel=new a.DropPanel(y,S,{$content:M,width:500}),S.onRender=function(){k===a.baiduMapAk&&a.warn("建议在配置中自定义百度地图的mapAk，否则可能影响地图功能，文档："+a.docsite)},S.clickEvent=function(){var a=this,c=a.dropPanel,h=!1;return c.isShowing?void c.hide():(C.map||(h=!0),c.show(),C.initMap(),void(h||R.focus()))}}})}),c(function(a,c){function h(){if(!(a.userAgent.indexOf("MSIE 8")>0||window.hljs)){var c=document.createElement("script");c.type="text/javascript",c.src="../../https@cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js",document.body.appendChild(c)}}a.createMenu(function(g){function v(a){var h=c("<div></div>");h.css({margin:"15px 5px 5px 5px",height:"160px","text-align":"center"}),M.css({width:"100%",height:"100%",padding:"10px"}),M.on("keydown",function(e){9===e.keyCode&&e.preventDefault()}),h.append(M),a.append(h);var g=c("<div></div>"),v=c('<button class="right">'+k.submit+"</button>"),w=c('<button class="right gray">'+k.cancel+"</button>");g.append(v).append(w).append(T),a.append(g),w.click(function(e){e.preventDefault(),$.dropPanel.hide()});var y='<pre style="max-width:100%;overflow-x:auto;"><code{#langClass}>{#content}</code></pre>';v.click(function(e){function a(){var a;w&&(a=N.attr("class"),a!==w+" hljs"&&N.attr("class",w+" hljs")),N.html(g)}function h(){b.restoreSelectionByElem(R),k()}e.preventDefault();var g=M.val();if(!g)return void M.focus();var v=b.getRangeElem();c.trim(c(v).text())&&0!==y.indexOf("<p><br></p>")&&(y="<p><br></p>"+y);var w=T?T.val():"",E="",k=function(){C.find("pre code").each(function(i,a){var h=c(a);h.attr("codemark")||window.hljs&&(window.hljs.highlightBlock(a),h.attr("codemark","1"))})};if(w&&(E=' class="'+w+' hljs"'),g=g.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;"),!$.selected){var S=y.replace("{#langClass}",E).replace("{#content}",g);return void b.command(e,"insertHtml",S,k)}var N,R=b.getSelfOrParentByName(v,"pre");R&&(R=b.getSelfOrParentByName(v,"code")),R&&(N=c(R),b.customCommand(e,a,h))})}function w(){var a=b.getRangeElem(),c=b.getSelfOrParentByName(a,"code");c?b.disableMenusExcept("insertcode"):b.enableMenusExcept("insertcode")}var y="insertcode";if(g(y)){setTimeout(h,0);var b=this,E=b.config,k=E.lang,C=b.txt.$txt,$=new a.Menu({editor:b,id:y,title:k.insertcode});$.clickEvent=function(){var a=this,h=a.dropPanel;if(h.isShowing)return void h.hide();M.val(""),h.show();var g=window.hljs;if(g&&g.listLanguages){if(0!==T.children().length)return;T.css({"margin-top":"9px","margin-left":"5px"}),c.each(g.listLanguages(),function(a,c){"xml"===c&&(c="html"),T.append(c===E.codeDefaultLang?'<option value="'+c+'" selected="selected">'+c+"</option>":'<option value="'+c+'">'+c+"</option>")})}else T.hide()},$.clickEventSelected=function(){var a=this,h=a.dropPanel;if(h.isShowing)return void h.hide();h.show();var g,v,w=b.getRangeElem(),y=b.getSelfOrParentByName(w,"pre");y&&(y=b.getSelfOrParentByName(w,"code")),y&&(g=c(y),M.val(g.text()),T&&(v=g.attr("class"),v&&T.val(v.split(" ")[0])))},$.updateSelectedEvent=function(){var a,c=this,h=c.editor;return a=h.getRangeElem(),a=h.getSelfOrParentByName(a,"pre"),a?!0:!1};var S=c("<div></div>"),M=c("<textarea></textarea>"),T=c("<select></select>");v(S),$.dropPanel=new a.DropPanel(b,$,{$content:S,width:500}),b.menus[y]=$,C.on("keydown",function(e){if(13===e.keyCode){var a=b.getRangeElem(),c=b.getSelfOrParentByName(a,"code");c&&b.command(e,"insertHtml","\n")}}),C.on("keydown click",function(){setTimeout(w)})}})}),c(function(a){a.createMenu(function(c){var h="undo";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.undo});w.clickEvent=function(){g.undo()},g.menus[h]=w,g.ready(function(){function a(){h.undoRecord()}var c,h=this,g=h.txt.$txt;g.on("keydown",function(e){var g=e.keyCode;return e.ctrlKey&&90===g?void h.undo():void(13===g?a():(c&&clearTimeout(c),c=setTimeout(a,1e3)))}),h.undoRecord()})}})}),c(function(a){a.createMenu(function(c){var h="redo";if(c(h)){var g=this,v=g.config.lang,w=new a.Menu({editor:g,id:h,title:v.redo});w.clickEvent=function(){g.redo()},g.menus[h]=w}})}),c(function(a){var c;a.createMenu(function(h){var g="fullscreen";if(h(g)){var v,w,y=this,b=y.txt.$txt,E=y.config,k=E.zindex||1e4,C=E.lang,$=!1,S=new a.Menu({editor:y,id:g,title:C.fullscreen});S.clickEvent=function(){var h=y.$editorContainer;h.addClass("wangEditor-fullscreen"),v=h.css("z-index"),h.css("z-index",k);var g,E=b.height(),C=b.outerHeight();y.useMaxHeight&&(w=b.css("max-height"),b.css("max-height","none"),g=b.parent(),g.after(b),g.remove(),b.css("overflow-y","auto"));var S=y.menuContainer;b.height(a.$window.height()-S.height()-(C-E)),y.menuContainer.$menuContainer.attr("style",""),$=!0,y.isFullScreen=!0,c=a.$window.scrollTop()},S.clickEventSelected=function(){var h=y.$editorContainer;h.removeClass("wangEditor-fullscreen"),h.css("z-index",v),y.useMaxHeight?b.css("max-height",w):y.$valueContainer.css("height",y.valueContainerHeight),y.txt.initHeight(),$=!1,y.isFullScreen=!1,null!=c&&a.$window.scrollTop(c)
},S.updateSelectedEvent=function(){return $},y.menus[g]=S}})}),c(function(a,c){a.fn.renderMenus=function(){var a,h=this,g=h.menus,v=h.config.menus,w=(h.menuContainer,0);c.each(v,function(c,h){return"|"===h?void w++:(a=g[h],void(a&&a.render(w)))})}}),c(function(a){a.fn.renderMenuContainer=function(){{var a=this,c=a.menuContainer;a.$editorContainer}c.render()}}),c(function(a){a.fn.renderTxt=function(){var a=this,c=a.txt;c.render(),a.ready(function(){c.initHeight()})}}),c(function(a){a.fn.renderEditorContainer=function(){var a,c,h=this,g=h.$valueContainer,v=h.$editorContainer,w=h.txt.$txt;g===w?(a=h.$prev,c=h.$parent,a&&a.length?a.after(v):c.prepend(v)):(g.after(v),g.hide())}}),c(function(a,c){a.fn.eventMenus=function(){var a=this.menus;c.each(a,function(a,c){c.bindEvent()})}}),c(function(a){a.fn.eventMenuContainer=function(){}}),c(function(a){a.fn.eventTxt=function(){var a=this.txt;a.saveSelectionEvent(),a.updateValueEvent(),a.updateMenuStyleEvent()}}),c(function(a){a.plugin(function(){var c=this,h=c.config.uploadImgFns;h.onload||(h.onload=function(c){a.log("上传结束，返回结果为 "+c);var h,g=this,v=g.uploadImgOriginalName||"";0===c.indexOf("error|")?(a.warn("上传失败："+c.split("|")[1]),alert(c.split("|")[1])):(a.log("上传成功，即将插入编辑区域，结果为："+c),h=document.createElement("img"),h.onload=function(){var w='<img src="'+c+'" alt="'+v+'" style="max-width:100%;"/>';g.command(null,"insertHtml",w),a.log("已插入图片，地址 "+c),h=null},h.onerror=function(){a.error("使用返回的结果获取图片，发生错误。请确认以下结果是否正确："+c),h=null},h.src=c)}),h.ontimeout||(h.ontimeout=function(){a.error("上传图片超时"),alert("上传图片超时")}),h.onerror||(h.onerror=function(){a.error("上传上图片发生错误"),alert("上传上图片发生错误")})})}),c(function(a,c){window.FileReader&&window.FormData&&a.plugin(function(){function h(a,c){var i,h=window.atob(a.split(",")[1]),g=new ArrayBuffer(h.length),v=new Uint8Array(g);for(i=0;i<h.length;i++)v[i]=h.charCodeAt(i);return new Blob([g],{type:c})}function g(c,h){var g=document.createElement("img");g.onload=function(){var v='<img src="'+c+'" style="max-width:100%;"/>';w.command(h,"insertHtml",v),a.log("已插入图片，地址 "+c),g=null},g.onerror=function(){a.error("使用返回的结果获取图片，发生错误。请确认以下结果是否正确："+c),g=null},g.src=c}function v(e){if(e.lengthComputable){var a=e.loaded/e.total;w.showUploadProgress(100*a)}}var w=this,y=w.config,b=y.uploadImgUrl,E=y.uploadTimeout,k=y.uploadImgFns,C=k.onload,$=k.ontimeout,S=k.onerror;b&&(w.xhrUploadImg=function(y){function k(){H&&clearTimeout(H),B&&B.abort&&B.abort(),M.preventDefault(),O&&O.call(w,B),w.hideUploadProgress()}var M=y.event,T=y.filename||"",N=y.base64,R=y.fileType||"image/png",D=y.name||"wangEditor_upload_file",P=y.loadfn||C,I=y.errorfn||S,O=y.timeoutfn||$,L=w.config.uploadParams||{},F=w.config.uploadHeaders||{},_="png";if(T.indexOf(".")>0?_=T.slice(T.lastIndexOf(".")-T.length+1):R.indexOf("/")>0&&R.split("/")[1]&&(_=R.split("/")[1]),a.isOnWebsite)return a.log("预览模拟上传"),void g(N,M);var H,B=new XMLHttpRequest,U=new FormData;B.onload=function(){H&&clearTimeout(H),w.uploadImgOriginalName=T,T.indexOf(".")>0&&(w.uploadImgOriginalName=T.split(".")[0]),P&&P.call(w,B.responseText,B),w.hideUploadProgress()},B.onerror=function(){H&&clearTimeout(H),M.preventDefault(),I&&I.call(w,B),w.hideUploadProgress()},B.upload.onprogress=v,U.append(D,h(N,R),a.random()+"."+_),c.each(L,function(a,c){U.append(a,c)}),B.open("POST",b,!0),c.each(F,function(a,c){B.setRequestHeader(a,c)}),B.withCredentials=w.config.withCredentials||!0,B.send(U),H=setTimeout(k,E),a.log("开始上传...并开始超时计算")})})}),c(function(a,c){a.plugin(function(){function a(){k||(k=!0,E.css({top:w+"px"}),y.append(E))}function h(){E.hide(),C=null}var g=this,v=g.menuContainer,w=v.height(),y=g.$editorContainer,b=y.width(),E=c('<div class="wangEditor-upload-progress"></div>'),k=!1;g.showUploadProgress=function(c){C&&clearTimeout(C),a(),E.show(),E.width(c*b/100)};var C;g.hideUploadProgress=function(a){C&&clearTimeout(C),a=a||750,C=setTimeout(h,a)}})}),c(function(a,c){a.plugin(function(){var h,g=this,v=g.config,w=v.uploadImgUrl,y=v.uploadTimeout;if(w){var b=g.$uploadContent;if(b){var E=c('<div class="upload-icon-container"><i class="wangeditor-menu-img-upload"></i></div>');b.append(E);var k=new a.UploadFile({editor:g,uploadUrl:w,timeout:y,fileAccept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp"});E.click(function(e){h=e,k.selectFiles()})}}})}),c(function(a,c){if(window.FileReader&&window.FormData){var h=function(a){this.editor=a.editor,this.uploadUrl=a.uploadUrl,this.timeout=a.timeout,this.fileAccept=a.fileAccept,this.multiple=!0};h.fn=h.prototype,h.fn.clear=function(){this.$input.val(""),a.log("input value 已清空")},h.fn.render=function(){var h=this;if(!h._hasRender){a.log("渲染dom");var g=h.fileAccept,v=g?'accept="'+g+'"':"",w=h.multiple,y=w?'multiple="multiple"':"",b=c('<input type="file" '+v+" "+y+"/>"),E=c('<div style="display:none;"></div>');E.append(b),a.$body.append(E),b.on("change",function(e){h.selected(e,b.get(0))}),h.$input=b,h._hasRender=!0}},h.fn.selectFiles=function(){var c=this;a.log("使用 html5 方式上传"),c.render(),a.log("选择文件"),c.$input.click()},h.fn.selected=function(e,h){var g=this,v=h.files||[];0!==v.length&&(a.log("选中 "+v.length+" 个文件"),c.each(v,function(a,c){g.upload(c)}))},h.fn.upload=function(c){function h(){g.clear()}var g=this,v=g.editor,w=c.name||"",y=c.type||"",b=v.config.uploadImgFns,E=v.config.uploadImgFileName||"wangEditorH5File",k=b.onload,C=b.ontimeout,$=b.onerror,S=new FileReader;return k&&C&&$?(a.log("开始执行 "+w+" 文件的上传"),S.onload=function(e){a.log("已读取"+w+"文件");var c=e.target.result||this.result;v.xhrUploadImg({event:e,filename:w,base64:c,fileType:y,name:E,loadfn:function(a,c){h();var g=this;k.call(g,a,c)},errorfn:function(c){h(),a.isOnWebsite&&alert("wangEditor官网暂时没有服务端，因此报错。实际项目中不会发生");var g=this;$.call(g,c)},timeoutfn:function(c){h(),a.isOnWebsite&&alert("wangEditor官网暂时没有服务端，因此超时。实际项目中不会发生");var g=this;C(g,c)}})},void S.readAsDataURL(c)):void a.error("请为编辑器配置上传图片的 onload ontimeout onerror 回调事件")},a.UploadFile=h}}),c(function(a,c){if(!window.FileReader||!window.FormData){var h=function(a){this.editor=a.editor,this.uploadUrl=a.uploadUrl,this.timeout=a.timeout,this.fileAccept=a.fileAccept,this.multiple=!1};h.fn=h.prototype,h.fn.clear=function(){this.$input.val(""),a.log("input value 已清空")},h.fn.hideModal=function(){this.modal.hide()},h.fn.render=function(){var h=this,g=h.editor,v=g.config.uploadImgFileName||"wangEditorFormFile";if(!h._hasRender){var w=h.uploadUrl;a.log("渲染dom");var y="iframe"+a.random(),b=c('<iframe name="'+y+'" id="'+y+'" frameborder="0" width="0" height="0"></iframe>'),E=h.multiple,k=E?'multiple="multiple"':"",C=c("<p>选择图片并上传</p>"),$=c('<input type="file" '+k+' name="'+v+'"/>'),S=c('<input type="submit" value="上传"/>'),M=c('<form enctype="multipart/form-data" method="post" action="'+w+'" target="'+y+'"></form>'),T=c('<div style="margin:10px 20px;"></div>');M.append(C).append($).append(S),c.each(g.config.uploadParams,function(a,h){M.append(c('<input type="hidden" name="'+a+'" value="'+h+'"/>'))}),T.append(M),T.append(b),h.$input=$,h.$iframe=b;var N=new a.Modal(g,void 0,{$content:T});h.modal=N,h._hasRender=!0}},h.fn.bindLoadEvent=function(){function a(){var a=c.trim(y.document.body.innerHTML);if(a){var v=h.$input.val(),w=v;v.lastIndexOf("\\")>=0&&(w=v.slice(v.lastIndexOf("\\")+1),w.indexOf(".")>0&&(w=w.split(".")[0])),g.uploadImgOriginalName=w,b.call(g,a),h.clear(),h.hideModal()}}var h=this;if(!h._hasBindLoad){var g=h.editor,v=h.$iframe,w=v.get(0),y=w.contentWindow,b=g.config.uploadImgFns.onload;w.attachEvent?w.attachEvent("onload",a):w.onload=a,h._hasBindLoad=!0}},h.fn.show=function(){function a(){h.show(),c.bindLoadEvent()}var c=this,h=c.modal;setTimeout(a)},h.fn.selectFiles=function(){var c=this;a.log("使用 form 方式上传"),c.render(),c.clear(),c.show()},a.UploadFile=h}}),c(function(a,c){a.plugin(function(){function h(){var h=/^data:(image\/\w+);base64/,y=b.find("img");a.log("粘贴后，检查到编辑器有"+y.length+"个图片。开始遍历图片，试图找到刚刚粘贴过来的图片"),c.each(y,function(){var y,b,E=this,k=c(E),$=k.attr("src");v.each(function(){return E===this?(y=!0,!1):void 0}),y||(a.log("找到一个粘贴过来的图片"),h.test($)?(a.log("src 是 base64 格式，可以上传"),b=$.match(h)[1],w.xhrUploadImg({event:g,base64:$,fileType:b,name:C})):a.log("src 为 "+$+" ，不是 base64 格式，暂时不支持上传"),k.remove())}),a.log("遍历结束")}var g,v,w=this,y=w.txt,b=y.$txt,E=w.config,k=E.uploadImgUrl,C=E.uploadImgFileName||"wangEditorPasteFile";k&&b.on("paste",function(e){g=e;var y,E,k=g.clipboardData||g.originalEvent.clipboardData;y=null==k?window.clipboardData&&window.clipboardData.getData("text"):k.getData("text/plain")||k.getData("text/html"),y||(E=k&&k.items,E?(a.log("通过 data.items 得到了数据"),c.each(E,function(c,h){var v=h.type||"";if(!(v.indexOf("image")<0)){var y=h.getAsFile(),b=new FileReader;a.log("得到一个粘贴图片"),b.onload=function(e){a.log("读取到粘贴的图片");var c=e.target.result||this.result;w.xhrUploadImg({event:g,base64:c,fileType:v,name:C})},b.readAsDataURL(y)}})):(a.log("未从 data.items 得到数据，使用检测粘贴图片的方式"),v=b.find("img"),a.log("粘贴前，检查到编辑器有"+v.length+"个图片"),setTimeout(h,0)))})})}),c(function(a,c){a.plugin(function(){var h=this,g=h.txt,v=g.$txt,w=h.config,y=w.uploadImgUrl,b=w.uploadImgFileName||"wangEditorDragFile";y&&(a.$document.on("dragleave drop dragenter dragover",function(e){e.preventDefault()}),v.on("drop",function(g){g.preventDefault();var v=g.originalEvent,w=v.dataTransfer&&v.dataTransfer.files;w&&w.length&&c.each(w,function(c,v){var w=v.type,y=v.name;if(!(w.indexOf("image/")<0)){a.log("得到图片 "+y);var E=new FileReader;E.onload=function(e){a.log("读取到图片 "+y);var c=e.target.result||this.result;h.xhrUploadImg({event:g,base64:c,fileType:w,name:b})},E.readAsDataURL(v)}})}))})}),c(function(a,c){a.plugin(function(){function h(){S||(g(),M.append(T).append(N).append(R).append(D),b.$editorContainer.append(M),S=!0)}function g(){function a(e,a){C=k.html();var h=function(){a&&a(),C!==k.html()&&k.change()};c&&b.customCommand(e,c,h)}var c;N.click(function(e){c=function(){y.remove()},a(e,function(){setTimeout(w,100)})}),D.click(function(e){c=function(){y.css({width:"100%"})},a(e,function(){setTimeout(v)})}),R.click(function(e){c=function(){y.css({width:"auto"})},a(e,function(){setTimeout(v)})})}function v(){if(!b._disabled&&null!=y){y.addClass("clicked");var a=y.position(),c=a.top,h=a.left,g=y.outerHeight(),v=y.outerWidth(),w=c+g,E=h,k=0,C=$.position().top,S=$.outerHeight();w>C+S&&(w=C+S),M.show();var N=M.outerWidth();k=v/2-N/2,M.css({top:w+5,left:E,"margin-left":k}),0>k?(M.css("margin-left","0"),T.hide()):T.show()}}function w(){null!=y&&(y.removeClass("clicked"),y=null,M.hide())}var y,b=this,E=b.txt,k=E.$txt,C="",$=b.useMaxHeight?k.parent():k,S=!1,M=c('<div class="txt-toolbar"></div>'),T=c('<div class="tip-triangle"></div>'),N=c('<a href="#"><i class="wangeditor-menu-img-trash-o"></i></a>'),R=c('<a href="#"><i class="wangeditor-menu-img-search-minus"></i></a>'),D=c('<a href="#"><i class="wangeditor-menu-img-search-plus"></i></a>');$.on("click","table",function(e){var a=c(e.currentTarget);return h(),y&&y.get(0)===a.get(0)?void setTimeout(w,100):(y=a,v(),e.preventDefault(),void e.stopPropagation())}).on("click keydown scroll",function(){setTimeout(w,100)}),a.$body.on("click keydown scroll",function(){setTimeout(w,100)})})}),c(function(a,c){a.userAgent.indexOf("MSIE 8")>0||a.plugin(function(){function h(e,a){if(k){var h,g,v=function(){null!=a&&(R=a),T!==M.html()&&M.change()},w=!1,y=k.parent();if("a"===y.get(0).nodeName.toLowerCase()?(g=y,w=!0):g=c('<a target="_blank"></a>'),null==a)return g.attr("href")||"";if(""===a)w&&(h=function(){k.unwrap()});else{if(a===R)return;h=function(){g.attr("href",a),w||k.wrap(g)}}h&&(T=M.html(),C.customCommand(e,h,v))}}function g(){D||(v(),w(),L.append(F).append(_).append(H).append(B).append(U).append(A).append(j).append(V),z.append(W).append(Z).append(G),I.append(O).append(L).append(z),C.$editorContainer.append(I).append(P),D=!0)}function v(){function a(e,a){var c;T=M.html(),c=function(){a&&a(),T!==M.html()&&M.change()},g&&C.customCommand(e,g,c)}var g;F.click(function(e){h(e,""),g=function(){k.remove()},a(e,function(){setTimeout(b,100)})}),H.click(function(e){g=function(){var a=k.get(0),c=a.width,h=a.height;c=1.1*c,h=1.1*h,k.css({width:c+"px",height:h+"px"})},a(e,function(){setTimeout(y)})}),_.click(function(e){g=function(){var a=k.get(0),c=a.width,h=a.height;c=.9*c,h=.9*h,k.css({width:c+"px",height:h+"px"})},a(e,function(){setTimeout(y)})}),B.click(function(e){g=function(){k.parents("p").css({"text-align":"left"}).attr("align","left")},a(e,function(){setTimeout(b,100)})}),A.click(function(e){g=function(){k.parents("p").css({"text-align":"right"}).attr("align","right")},a(e,function(){setTimeout(b,100)})}),U.click(function(e){g=function(){k.parents("p").css({"text-align":"center"}).attr("align","center")},a(e,function(){setTimeout(b,100)})}),j.click(function(e){e.preventDefault(),R=h(e),W.val(R),L.hide(),z.show()}),G.click(function(e){e.preventDefault();var a=c.trim(W.val());a&&h(e,a),setTimeout(b)}),Z.click(function(e){e.preventDefault(),W.val(R),L.show(),z.hide()}),V.click(function(e){e.preventDefault(),h(e,""),setTimeout(b)})}function w(){function c(e){var a,c;a=e.pageX-h,c=e.pageY-g;var b=v+a,C=w+c;P.css({"margin-left":b,"margin-top":C});var $=y+a,S=E+c;k&&k.css({width:$,height:S})}var h,g,v,w,y,E;P.on("mousedown",function(e){k&&(h=e.pageX,g=e.pageY,v=parseFloat(P.css("margin-left"),10),w=parseFloat(P.css("margin-top"),10),y=k.width(),E=k.height(),I.hide(),a.$document.on("mousemove._dragResizeImg",c),a.$document.on("mouseup._dragResizeImg",function(){a.$document.off("mousemove._dragResizeImg"),a.$document.off("mouseup._dragResizeImg"),b(),P.css({"margin-left":v,"margin-top":w}),J=!1}),J=!0)})}function y(){if(!C._disabled&&null!=k){k.addClass("clicked");var a=k.position(),c=a.top,h=a.left,g=k.outerHeight(),v=k.outerWidth();P.css({top:c+g,left:h+v});var w=c+g,y=h,b=0,E=N.position().top,$=N.outerHeight();w>E+$?w=E+$:P.show(),I.show();var S=I.outerWidth();b=v/2-S/2,I.css({top:w+5,left:y,"margin-left":b}),0>b?(I.css("margin-left","0"),O.hide()):O.show(),C.disableMenusExcept()}}function b(){null!=k&&(k.removeClass("clicked"),k=null,I.hide(),P.hide(),C.enableMenusExcept())}function E(a){var h=!1;return C.emotionUrls?(c.each(C.emotionUrls,function(c,g){var v=!1;return a===g&&(h=!0,v=!0),v?!1:void 0}),h):h}var k,C=this,$=C.config.lang,S=C.txt,M=S.$txt,T="",N=C.useMaxHeight?M.parent():M,R=(C.$editorContainer,""),D=!1,P=c('<div class="img-drag-point"></div>'),I=c('<div class="txt-toolbar"></div>'),O=c('<div class="tip-triangle"></div>'),L=c("<div></div>"),F=c('<a href="#"><i class="wangeditor-menu-img-trash-o"></i></a>'),_=c('<a href="#"><i class="wangeditor-menu-img-search-minus"></i></a>'),H=c('<a href="#"><i class="wangeditor-menu-img-search-plus"></i></a>'),B=c('<a href="#"><i class="wangeditor-menu-img-align-left"></i></a>'),U=c('<a href="#"><i class="wangeditor-menu-img-align-center"></i></a>'),A=c('<a href="#"><i class="wangeditor-menu-img-align-right"></i></a>'),j=c('<a href="#"><i class="wangeditor-menu-img-link"></i></a>'),V=c('<a href="#"><i class="wangeditor-menu-img-unlink"></i></a>'),z=c('<div style="display:none;"></div>'),W=c('<input type="text" style="height:26px; margin-left:10px; width:200px;"/>'),G=c('<button class="right">'+$.submit+"</button>"),Z=c('<button class="right gray">'+$.cancel+"</button>"),J=!1;N.on("mousedown","img",function(e){e.preventDefault()}).on("click","img",function(e){var a=c(e.currentTarget),h=a.attr("src");if(h&&!E(h)){if(g(),k&&k.get(0)===a.get(0))return void setTimeout(b,100);k=a,y(),L.show(),z.hide(),e.preventDefault(),e.stopPropagation()}}).on("click keydown scroll",function(){J||setTimeout(b,100)})})}),c(function(a,c){a.plugin(function(){function a(){y||(M.append(T).append(N),C.$editorContainer.append(M),y=!0)}function h(){if(w){var a=w.position(),c=a.left,h=a.top,g=w.height(),v=h+g+5,y=C.menuContainer.height(),b=C.txt.$txt.outerHeight();v>y+b&&(v=y+b+5),M.css({top:v,left:c})}}function g(){if(!R&&w){a(),M.show();var c=w.attr("href");N.attr("href",c),h(),R=!0}}function v(){R&&w&&(M.hide(),R=!1)}var w,y,b,E,k,C=this,$=C.config.lang,S=C.txt.$txt,M=c('<div class="txt-toolbar"></div>'),T=c('<div class="tip-triangle"></div>'),N=c('<a href="#" target="_blank"><i class="wangeditor-menu-img-link"></i> '+$.openLink+"</a>"),R=!1;S.on("mouseenter","a",function(e){b&&clearTimeout(b),b=setTimeout(function(){var a=e.currentTarget,h=c(a);w=h;var y=h.children("img");y.length&&(y.click(function(){v()}),y.hasClass("clicked"))||g()},500)}).on("mouseleave","a",function(){E&&clearTimeout(E),E=setTimeout(v,500)}).on("click keydown scroll",function(){setTimeout(v,100)}),M.on("mouseenter",function(){E&&clearTimeout(E)}).on("mouseleave",function(){k&&clearTimeout(k),k=setTimeout(v,500)})})}),c(function(a){a.plugin(function(){var c=this,h=c.config.menuFixed;if(h!==!1&&"number"==typeof h){var g=parseFloat(a.$body.css("margin-top"),10);isNaN(g)&&(g=0);{var v=c.$editorContainer,w=v.offset().top,y=v.outerHeight(),b=c.menuContainer.$menuContainer,E=b.css("position"),k=b.css("top"),C=b.offset().top,$=b.outerHeight();c.txt.$txt}a.$window.scroll(function(){if(!c.isFullScreen){var S=a.$window.scrollTop(),M=b.width();0===C&&(C=b.offset().top,w=v.offset().top,y=v.outerHeight(),$=b.outerHeight()),S>=C&&w+y>S+h+$+30?(b.css({position:"fixed",top:h}),b.width(M),a.$body.css({"margin-top":g+$}),c._isMenufixed||(c._isMenufixed=!0)):(b.css({position:E,top:k}),b.css("width","100%"),a.$body.css({"margin-top":g}),c._isMenufixed&&(c._isMenufixed=!1))}})}})}),c(function(a,c){a.createMenu(function(h){var g="indent";if(h(g)){var v=this,w=new a.Menu({editor:v,id:g,title:"缩进",$domNormal:c('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-indent-left"></i></a>'),$domSelected:c('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-indent-left"></i></a>')});w.clickEvent=function(e){function a(){h.css("text-indent","2em")}var h,g=v.getRangeElem(),p=v.getSelfOrParentByName(g,"p");return p?(h=c(p),void v.customCommand(e,a)):e.preventDefault()},w.clickEventSelected=function(e){function a(){h.css("text-indent","0")}var h,g=v.getRangeElem(),p=v.getSelfOrParentByName(g,"p");return p?(h=c(p),void v.customCommand(e,a)):e.preventDefault()},w.updateSelectedEvent=function(){var a,h,g=v.getRangeElem(),p=v.getSelfOrParentByName(g,"p");return p?(a=c(p),h=a.css("text-indent"),h&&"0px"!==h?!0:!1):!1},v.menus[g]=w}})}),c(function(a,c){a.createMenu(function(h){var g="lineheight";if(h(g)){var v=this;v.commandHooks.lineHeight=function(a){var h=v.getRangeElem(),g=v.getSelfOrParentByName(h,"p,h1,h2,h3,h4,h5,pre");g&&c(g).css("line-height",a+"")};var w=new a.Menu({editor:v,id:g,title:"行高",commandName:"lineHeight",$domNormal:c('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-arrows-v"></i></a>'),$domSelected:c('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-arrows-v"></i></a>')}),y={"1.0":"1.0_25E5_2580_258D",1.5:"1.5_25E5_2580_258D",1.8:"1.8_25E5_2580_258D","2.0":"2.0_25E5_2580_258D",2.5:"2.5_25E5_2580_258D","3.0":"3.0_25E5_2580_258D"},b='<span style="line-height:{#commandValue}">{#title}</span>';w.dropList=new a.DropList(v,w,{data:y,tpl:b}),v.menus[g]=w}})}),c(function(a,c){a.plugin(function(){var h=this,g=h.config.customUpload;if(g){if(h.config.uploadImgUrl)return alert("_25E8_2587_25AA_25E5_25AE_259A_25E4_25B9_2589_25E4_25B8_258A_25E4_25BC_25A0_25E6_2597_25A0_25E6_259506C44767AE"),void a.error("已经配置了 uploadImgUrl ，就不能再配置 customUpload ，两者冲突。将导致自定义上传无效。");var v=h.$uploadContent;v||a.error("自定义上传，无法获取 editor.$uploadContent");var w=c('<div class="upload-icon-container"><i class="wangeditor-menu-img-upload"></i></div>');v.append(w);var y="upload"+a.random(),b="upload"+a.random();w.attr("id",y),v.attr("id",b),h.customUploadBtnId=y,h.customUploadContainerId=b}})}),c(function(){}),window.wangEditor});
/*!community/modules/common/editor/main.js*/
;define("community/modules/common/editor/main",["require","exports","module","common/components/wangEditor-custom/dist/js/wangEditor","dep/jquery-colorbox/jquery.colorbox"],function(require,exports,module){function c(c){$.colorbox({title:"提示",html:'<div class="tipsContent" style="width: 400px;min-height: 26px;padding: 18px;font-size: 16px;color: #333;line-height: 24px;text-align: center;"><p>'+c+"</p></div>",overlayClose:!1})}var a=require("common/components/wangEditor-custom/dist/js/wangEditor");require("dep/jquery-colorbox/jquery.colorbox"),a.config.printLog=!1,a.config.menus=["bold","underline","italic","strikethrough","eraser","|","quote","unorderlist","orderlist","link","unlink","img","insertcode","|","undo","redo","fullscreen"],a.config.zindex=9999,a.config.pasteFilter=!0,a.config.pasteText=!0,a.config.codeDefaultLang="javascript",module.exports.getAnEditor=function(e,g){var v=null;return e?("string"==typeof e?$("#"+e).wrap('<div class="editor_reset"></div>'):$(e).wrap('<div class="editor_reset"></div>'),v=new a(e),g&&(v.config.uploadImgUrl=g,v.config.uploadImgFns.onload=function(a){var g;try{g=$.parseJSON(a)}catch(e){console.log(e)}if(g&&1==g.state&&g.content.data){var h=g.content.data.picUrl;v.command(null,"insertHtml",'<img src="'+GLOBAL_DOMAIN.lgsctx+"/"+h+'" style="max-width:100%;"/>')}else c(g.message)},v.config.uploadImgFns.ontimeout=function(){c("上传图片超时")},v.config.uploadImgFns.onerror=function(){c("上传图片错误")}),v):(c("初始化编辑器失败"),v)}});
/*!community/modules/question-detail/answer-the-question/main.js*/
;define("community/modules/question-detail/answer-the-question/main",["require","exports","module","community/modules/common/main","community/modules/common/editor/main"],function(require){function a(a,c,v){c||(c=250);var $,h;return function(){var w=v||this,g=+new Date,I=arguments;$&&$+c>g?(clearTimeout(h),h=setTimeout(function(){$=g,a.apply(w,I)},c)):($=g,a.apply(w,I))}}var c=require("community/modules/common/main").config,v=require("community/modules/common/main").helper,h=require("community/modules/common/editor/main").getAnEditor;if(0!==$("#answerQuestion").length){var w=$("#answerQuestion .rich-text-editor"),g=$("#answerQuestion .submit-btn"),I=h(w.get(0),c.url.uploadAnswerPic);if(!I)return void v.alertTips("初始化编辑器失败");I.onchange=function(){var a=$.trim(this.$txt.text()),c=$.trim(this.$txt.html());if(a||this.$txt.find("img").length){var v={questionId:$.trim($("#answerQuestion input[name=questionId]").val()),content:c,summary:a,thumbnail:this.$txt.find("img").prop("src")||"",anonymous:$("#answerTheQuestionAnonymousCheckbox").prop("checked")||!1},h=$("#answerQuestion input[name=answerId]");h.length&&(v.answerId=$.trim(h.val())),y(v),g.removeClass("btn_disable")}else g.addClass("btn_disable")};var Q=function(){var a="";return function(v){a!==v.content&&(a=v.content,$.ajax({url:c.questionPageUrl.saveAnswerDraft,type:"POST",data:v,dataType:"json"}).done(function(a){1==a.state?a.content.data.answerId&&($("#answerQuestion input[name=answerId]").length?$("#answerQuestion input[name=answerId]").val(a.content.data.answerId):$('<input type="hidden" name="answerId" value="'+a.content.data.answerId+'" />').appendTo("#answerQuestion .addtions")):304==a.state&&PASSPORT.popup()}))}}(),y=a(Q,2e3);I.create(),I.$txt.on("keydown",function(e){var a=[8,46,37,38,39,40,229],c=$.trim(I.$txt.text()),v=1e5;-1===a.indexOf(e.which)&&c.length>=v&&e.preventDefault()}),I.$txt.on("blur",function(){var a=$(this),c={questionId:$.trim($("#answerQuestion input[name=questionId]").val()),content:$.trim(a.html()),summary:$.trim(a.text()),thumbnail:a.find("img").prop("src")||"",anonymous:$("#answerTheQuestionAnonymousCheckbox").prop("checked")||!1},v=$("#answerQuestion input[name=answerId]");v.length&&(c.answerId=$.trim(v.val())),c.answerId&&""!=c.answerId?""!=c.content&&(c.draftAnswerId=c.answerId,Q(c)):""!=c.content&&Q(c)});g.click(function(){if(!g.hasClass("btn_disable")){if(h)return void v.alertTips("正在提交中...");var a=$.trim(I.$txt.text()),c=$.trim(I.$txt.html());if(!a&&0===I.$txt.find("img").length)return void v.alertTips("答案内容不能为空");if(a.length>1e5)return void v.alertTips("你最多只能填写10万字的回答！");var h=!0,w=null;if($("#answerQuestion input[name=answerId]").length){var Q={answerId:$.trim($("#answerQuestion input[name=answerId]").val()),questionId:$.trim($("#answerQuestion input[name=questionId]").val()),content:c,summary:(a||"").replace(/[\r\n]/g,""),thumbnail:I.$txt.find("img").prop("src")||"",anonymous:$("#answerTheQuestionAnonymousCheckbox").prop("checked")||!1};if($("#answerQuestion .event_argue_vote").size()>0){if($("#answerQuestion .event_argue_vote input[name=optionIds]:checked").size()<1)return void v.alertTips("请选择你支持的观点先～");if($("#answerQuestion .event_argue_vote label.hasVoted").size()<1){var y=$("#eventArgueMain input[name=voteId]").val()||"",_=[];$("#answerQuestion .event_argue_vote input[name=optionIds]:checked").each(function(){_.push($(this).val())}),Q.voteId=y,Q.optionIds=_}}w=v.editAnswer(Q)}else{var Q={questionId:$.trim($("#answerQuestion input[name=questionId]").val()),content:c,summary:(a||"").replace(/[\r\n]/g,""),thumbnail:I.$txt.find("img").prop("src")||"",anonymous:$("#answerTheQuestionAnonymousCheckbox").prop("checked")||!1};if($("#answerQuestion .event_argue_vote").size()>0){if($("#answerQuestion .event_argue_vote input[name=optionIds]:checked").size()<1)return void v.alertTips("请选择你支持的观点先～");if($("#answerQuestion .event_argue_vote label.hasVoted").size()<1){var y=$("#eventArgueMain input[name=voteId]").val()||"",_=[];$("#answerQuestion .event_argue_vote input[name=optionIds]:checked").each(function(){_.push($(this).val())}),Q.voteId=y,Q.optionIds=_}}w=v.addAnswer(Q)}w&&w.always(function(){h=!1})}}),$("#answerQuestion .event_argue_vote").on("click.vote","label.hasVoted",function(){v.alertTips("已经投过票了~"),$("#answerQuestion .event_argue_vote").off("click.vote","label.hasVoted")})}});
/*!community/modules/question-detail/my-answer-edit/main.js*/
;define("community/modules/question-detail/my-answer-edit/main",["require","exports","module","community/modules/common/main","community/modules/common/editor/main"],function(require){function a(){if(0!==$("#myAnswerEditor").length){var a=$("#myAnswerEditor .answer-editor");if(y=h(a.get(0),c.url.uploadAnswerPic),!y)return void w.alertTips("初始化编辑器失败");y.onchange=function(){var a=$.trim(this.$txt.text());a||this.$txt.find("img").length?$("#myAnswerEditor .submit-btn").removeClass("disabled"):$("#myAnswerEditor .submit-btn").addClass("disabled")},y.create(),b=$.trim(y.$txt.html()),y.$txt.on("keydown",function(e){var a=[8,46,37,38,39,40,229],c=$.trim(y.$txt.text()),w=1e5;-1===a.indexOf(e.which)&&c.length>=w&&e.preventDefault()});var A=!1;$("#myAnswerEditor .submit-btn").click(function(){if(!$("#myAnswerEditor .submit-btn").hasClass("disabled")){if(A)return void w.alertTips("正在提交中...");var a=$.trim(y.$txt.text()),c=$.trim(y.$txt.html());if(a.length>1e5)return void w.alertTips("你最多只能填写10万字的回答！");if(!a&&0===y.$txt.find("img").length)return void w.alertTips("答案内容不能为空！");A=!0,w.editAnswer({answerId:$.trim($("#myAnswerEditor input[name=answerId]").val()),questionId:$.trim($("#myAnswerEditor input[name=questionId]").val()),content:c,summary:(a||"").replace(/[\r\n]/g,""),thumbnail:y.$txt.find("img").prop("src")||"",anonymous:$("#myAnswerAnonymityBtn").prop("checked")||!1}).always(function(){A=!1})}})}}var c=require("community/modules/common/main").config,w=require("community/modules/common/main").helper,h=require("community/modules/common/editor/main").getAnEditor,y=null,b="";$(".main-content").on("click",".edit-answer-btn",function(){$(this).hide(),$("#myAnswerEditor").show(),$(this).parents(".answer-item").find(".extra-info").hide(),$(this).parents(".answer-item").find(".answer-content").hide(),y?y.undestroy():a(),y.$txt.html(b),$("#myAnswerEditor .submit-btn").removeClass("disabled")}),$(".main-content").on("click",".cancel-btn",function(){y&&y.destroy(),$("#myAnswerEditor").hide(),$(this).parents(".answer-item").find(".extra-info").show(),$(this).parents(".answer-item").find(".answer-content").show(),$(this).parents(".answer-item").find(".edit-answer-btn").show()})});
/*!community/modules/common/img-zoom-tool/main.js*/
;define("community/modules/common/img-zoom-tool/main",["require","exports","module"],function(){$("body").on("click",".editor_parse img",function(){$(this).toggleClass("zoomed")})});
/*!community/page/question-detail/main.js*/
;define("community/page/question-detail/main",["require","exports","module","dep/jQuery.dotdotdot/src/jquery.dotdotdot","community/modules/question-detail/the-question/main","community/modules/question-detail/answer-the-question/main","community/modules/question-detail/my-answer-edit/main","community/modules/common/img-zoom-tool/main"],function(require){require("dep/jQuery.dotdotdot/src/jquery.dotdotdot"),require("community/modules/question-detail/the-question/main"),require("community/modules/question-detail/answer-the-question/main"),require("community/modules/question-detail/my-answer-edit/main"),require("community/modules/common/img-zoom-tool/main")});